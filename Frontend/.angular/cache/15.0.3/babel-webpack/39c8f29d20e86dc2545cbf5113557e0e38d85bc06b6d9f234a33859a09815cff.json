{"ast":null,"code":"\"use strict\";\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CommonJsUsageWarnPlugin = void 0;\nconst path_1 = require(\"path\");\nconst webpack_diagnostics_1 = require(\"../../utils/webpack-diagnostics\");\n// Webpack doesn't export these so the deep imports can potentially break.\nconst AMDDefineDependency = require('webpack/lib/dependencies/AMDDefineDependency');\nconst CommonJsExportsDependency = require('webpack/lib/dependencies/CommonJsExportsDependency');\nconst CommonJsRequireDependency = require('webpack/lib/dependencies/CommonJsRequireDependency');\nconst CommonJsSelfReferenceDependency = require('webpack/lib/dependencies/CommonJsSelfReferenceDependency');\nclass CommonJsUsageWarnPlugin {\n  constructor(options = {}) {\n    this.options = options;\n    this.shownWarnings = new Set();\n    this.allowedDependencies = new Set(this.options.allowedDependencies);\n  }\n  apply(compiler) {\n    compiler.hooks.compilation.tap('CommonJsUsageWarnPlugin', compilation => {\n      compilation.hooks.finishModules.tap('CommonJsUsageWarnPlugin', modules => {\n        var _a;\n        const mainEntry = compilation.entries.get('main');\n        if (!mainEntry) {\n          return;\n        }\n        const mainModules = new Set(mainEntry.dependencies.map(dep => compilation.moduleGraph.getModule(dep)));\n        for (const module of modules) {\n          const {\n            dependencies,\n            rawRequest\n          } = module;\n          if (!rawRequest || rawRequest.startsWith('.') || (0, path_1.isAbsolute)(rawRequest) || this.allowedDependencies.has(rawRequest) || this.allowedDependencies.has(this.rawRequestToPackageName(rawRequest)) || rawRequest.startsWith('@angular/common/locales/')) {\n            /**\n             * Skip when:\n             * - module is absolute or relative.\n             * - module is allowed even if it's a CommonJS.\n             * - module is a locale imported from '@angular/common'.\n             */\n            continue;\n          }\n          if (this.hasCommonJsDependencies(compilation, dependencies)) {\n            // Dependency is CommonsJS or AMD.\n            const issuer = getIssuer(compilation, module);\n            // Check if it's parent issuer is also a CommonJS dependency.\n            // In case it is skip as an warning will be show for the parent CommonJS dependency.\n            const parentDependencies = (_a = getIssuer(compilation, issuer)) === null || _a === void 0 ? void 0 : _a.dependencies;\n            if (parentDependencies && this.hasCommonJsDependencies(compilation, parentDependencies, true)) {\n              continue;\n            }\n            // Find the main issuer (entry-point).\n            let mainIssuer = issuer;\n            let nextIssuer = getIssuer(compilation, mainIssuer);\n            while (nextIssuer) {\n              mainIssuer = nextIssuer;\n              nextIssuer = getIssuer(compilation, mainIssuer);\n            }\n            // Only show warnings for modules from main entrypoint.\n            // And if the issuer request is not from 'webpack-dev-server', as 'webpack-dev-server'\n            // will require CommonJS libraries for live reloading such as 'sockjs-node'.\n            if (mainIssuer && mainModules.has(mainIssuer)) {\n              const warning = `${issuer === null || issuer === void 0 ? void 0 : issuer.userRequest} depends on '${rawRequest}'. ` + 'CommonJS or AMD dependencies can cause optimization bailouts.\\n' + 'For more info see: https://angular.io/guide/build#configuring-commonjs-dependencies';\n              // Avoid showing the same warning multiple times when in 'watch' mode.\n              if (!this.shownWarnings.has(warning)) {\n                (0, webpack_diagnostics_1.addWarning)(compilation, warning);\n                this.shownWarnings.add(warning);\n              }\n            }\n          }\n        }\n      });\n    });\n  }\n  hasCommonJsDependencies(compilation, dependencies, checkParentModules = false) {\n    for (const dep of dependencies) {\n      if (dep instanceof CommonJsRequireDependency || dep instanceof CommonJsExportsDependency || dep instanceof CommonJsSelfReferenceDependency || dep instanceof AMDDefineDependency) {\n        return true;\n      }\n      if (checkParentModules) {\n        const module = getWebpackModule(compilation, dep);\n        if (module && this.hasCommonJsDependencies(compilation, module.dependencies)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  rawRequestToPackageName(rawRequest) {\n    return rawRequest.startsWith('@') ?\n    // Scoped request ex: @angular/common/locale/en -> @angular/common\n    rawRequest.split('/', 2).join('/') :\n    // Non-scoped request ex: lodash/isEmpty -> lodash\n    rawRequest.split('/', 1)[0];\n  }\n}\nexports.CommonJsUsageWarnPlugin = CommonJsUsageWarnPlugin;\nfunction getIssuer(compilation, module) {\n  if (!module) {\n    return null;\n  }\n  return compilation.moduleGraph.getIssuer(module);\n}\nfunction getWebpackModule(compilation, dependency) {\n  if (!dependency) {\n    return null;\n  }\n  return compilation.moduleGraph.getModule(dependency);\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","CommonJsUsageWarnPlugin","path_1","require","webpack_diagnostics_1","AMDDefineDependency","CommonJsExportsDependency","CommonJsRequireDependency","CommonJsSelfReferenceDependency","constructor","options","shownWarnings","Set","allowedDependencies","apply","compiler","hooks","compilation","tap","finishModules","modules","_a","mainEntry","entries","get","mainModules","dependencies","map","dep","moduleGraph","getModule","module","rawRequest","startsWith","isAbsolute","has","rawRequestToPackageName","hasCommonJsDependencies","issuer","getIssuer","parentDependencies","mainIssuer","nextIssuer","warning","userRequest","addWarning","add","checkParentModules","getWebpackModule","split","join","dependency"],"sources":["C:/Users/Nawaz/Downloads/mean-stack-authentication-authorization-master/mean-stack-authentication-authorization-master/Frontend/node_modules/@angular-devkit/build-angular/src/webpack/plugins/common-js-usage-warn-plugin.js"],"sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonJsUsageWarnPlugin = void 0;\nconst path_1 = require(\"path\");\nconst webpack_diagnostics_1 = require(\"../../utils/webpack-diagnostics\");\n// Webpack doesn't export these so the deep imports can potentially break.\nconst AMDDefineDependency = require('webpack/lib/dependencies/AMDDefineDependency');\nconst CommonJsExportsDependency = require('webpack/lib/dependencies/CommonJsExportsDependency');\nconst CommonJsRequireDependency = require('webpack/lib/dependencies/CommonJsRequireDependency');\nconst CommonJsSelfReferenceDependency = require('webpack/lib/dependencies/CommonJsSelfReferenceDependency');\nclass CommonJsUsageWarnPlugin {\n    constructor(options = {}) {\n        this.options = options;\n        this.shownWarnings = new Set();\n        this.allowedDependencies = new Set(this.options.allowedDependencies);\n    }\n    apply(compiler) {\n        compiler.hooks.compilation.tap('CommonJsUsageWarnPlugin', (compilation) => {\n            compilation.hooks.finishModules.tap('CommonJsUsageWarnPlugin', (modules) => {\n                var _a;\n                const mainEntry = compilation.entries.get('main');\n                if (!mainEntry) {\n                    return;\n                }\n                const mainModules = new Set(mainEntry.dependencies.map((dep) => compilation.moduleGraph.getModule(dep)));\n                for (const module of modules) {\n                    const { dependencies, rawRequest } = module;\n                    if (!rawRequest ||\n                        rawRequest.startsWith('.') ||\n                        (0, path_1.isAbsolute)(rawRequest) ||\n                        this.allowedDependencies.has(rawRequest) ||\n                        this.allowedDependencies.has(this.rawRequestToPackageName(rawRequest)) ||\n                        rawRequest.startsWith('@angular/common/locales/')) {\n                        /**\n                         * Skip when:\n                         * - module is absolute or relative.\n                         * - module is allowed even if it's a CommonJS.\n                         * - module is a locale imported from '@angular/common'.\n                         */\n                        continue;\n                    }\n                    if (this.hasCommonJsDependencies(compilation, dependencies)) {\n                        // Dependency is CommonsJS or AMD.\n                        const issuer = getIssuer(compilation, module);\n                        // Check if it's parent issuer is also a CommonJS dependency.\n                        // In case it is skip as an warning will be show for the parent CommonJS dependency.\n                        const parentDependencies = (_a = getIssuer(compilation, issuer)) === null || _a === void 0 ? void 0 : _a.dependencies;\n                        if (parentDependencies &&\n                            this.hasCommonJsDependencies(compilation, parentDependencies, true)) {\n                            continue;\n                        }\n                        // Find the main issuer (entry-point).\n                        let mainIssuer = issuer;\n                        let nextIssuer = getIssuer(compilation, mainIssuer);\n                        while (nextIssuer) {\n                            mainIssuer = nextIssuer;\n                            nextIssuer = getIssuer(compilation, mainIssuer);\n                        }\n                        // Only show warnings for modules from main entrypoint.\n                        // And if the issuer request is not from 'webpack-dev-server', as 'webpack-dev-server'\n                        // will require CommonJS libraries for live reloading such as 'sockjs-node'.\n                        if (mainIssuer && mainModules.has(mainIssuer)) {\n                            const warning = `${issuer === null || issuer === void 0 ? void 0 : issuer.userRequest} depends on '${rawRequest}'. ` +\n                                'CommonJS or AMD dependencies can cause optimization bailouts.\\n' +\n                                'For more info see: https://angular.io/guide/build#configuring-commonjs-dependencies';\n                            // Avoid showing the same warning multiple times when in 'watch' mode.\n                            if (!this.shownWarnings.has(warning)) {\n                                (0, webpack_diagnostics_1.addWarning)(compilation, warning);\n                                this.shownWarnings.add(warning);\n                            }\n                        }\n                    }\n                }\n            });\n        });\n    }\n    hasCommonJsDependencies(compilation, dependencies, checkParentModules = false) {\n        for (const dep of dependencies) {\n            if (dep instanceof CommonJsRequireDependency ||\n                dep instanceof CommonJsExportsDependency ||\n                dep instanceof CommonJsSelfReferenceDependency ||\n                dep instanceof AMDDefineDependency) {\n                return true;\n            }\n            if (checkParentModules) {\n                const module = getWebpackModule(compilation, dep);\n                if (module && this.hasCommonJsDependencies(compilation, module.dependencies)) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    rawRequestToPackageName(rawRequest) {\n        return rawRequest.startsWith('@')\n            ? // Scoped request ex: @angular/common/locale/en -> @angular/common\n                rawRequest.split('/', 2).join('/')\n            : // Non-scoped request ex: lodash/isEmpty -> lodash\n                rawRequest.split('/', 1)[0];\n    }\n}\nexports.CommonJsUsageWarnPlugin = CommonJsUsageWarnPlugin;\nfunction getIssuer(compilation, module) {\n    if (!module) {\n        return null;\n    }\n    return compilation.moduleGraph.getIssuer(module);\n}\nfunction getWebpackModule(compilation, dependency) {\n    if (!dependency) {\n        return null;\n    }\n    return compilation.moduleGraph.getModule(dependency);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}