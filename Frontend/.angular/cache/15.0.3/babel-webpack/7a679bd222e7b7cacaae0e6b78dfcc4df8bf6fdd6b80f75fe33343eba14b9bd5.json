{"ast":null,"code":"\"use strict\";\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.webpackStatsLogger = exports.generateBuildEventStats = exports.createWebpackLoggingCallback = exports.statsHasWarnings = exports.statsHasErrors = exports.statsErrorsToString = exports.statsWarningsToString = exports.formatSize = void 0;\nconst core_1 = require(\"@angular-devkit/core\");\nconst assert_1 = __importDefault(require(\"assert\"));\nconst path = __importStar(require(\"path\"));\nconst text_table_1 = __importDefault(require(\"text-table\"));\nconst utils_1 = require(\"../../utils\");\nconst color_1 = require(\"../../utils/color\");\nconst async_chunks_1 = require(\"./async-chunks\");\nconst helpers_1 = require(\"./helpers\");\nfunction formatSize(size) {\n  if (size <= 0) {\n    return '0 bytes';\n  }\n  const abbreviations = ['bytes', 'kB', 'MB', 'GB'];\n  const index = Math.floor(Math.log(size) / Math.log(1024));\n  const roundedSize = size / Math.pow(1024, index);\n  // bytes don't have a fraction\n  const fractionDigits = index === 0 ? 0 : 2;\n  return `${roundedSize.toFixed(fractionDigits)} ${abbreviations[index]}`;\n}\nexports.formatSize = formatSize;\nfunction getBuildDuration(webpackStats) {\n  (0, assert_1.default)(webpackStats.builtAt, 'buildAt cannot be undefined');\n  (0, assert_1.default)(webpackStats.time, 'time cannot be undefined');\n  return Date.now() - webpackStats.builtAt + webpackStats.time;\n}\nfunction generateBundleStats(info) {\n  var _a, _b, _c;\n  const rawSize = typeof info.rawSize === 'number' ? info.rawSize : '-';\n  const estimatedTransferSize = typeof info.estimatedTransferSize === 'number' ? info.estimatedTransferSize : '-';\n  const files = (_b = (_a = info.files) === null || _a === void 0 ? void 0 : _a.filter(f => !f.endsWith('.map')).map(f => path.basename(f)).join(', ')) !== null && _b !== void 0 ? _b : '';\n  const names = ((_c = info.names) === null || _c === void 0 ? void 0 : _c.length) ? info.names.join(', ') : '-';\n  const initial = !!info.initial;\n  return {\n    initial,\n    stats: [files, names, rawSize, estimatedTransferSize]\n  };\n}\nfunction generateBuildStatsTable(data, colors, showTotalSize, showEstimatedTransferSize, budgetFailures) {\n  const g = x => colors ? color_1.colors.greenBright(x) : x;\n  const c = x => colors ? color_1.colors.cyanBright(x) : x;\n  const r = x => colors ? color_1.colors.redBright(x) : x;\n  const y = x => colors ? color_1.colors.yellowBright(x) : x;\n  const bold = x => colors ? color_1.colors.bold(x) : x;\n  const dim = x => colors ? color_1.colors.dim(x) : x;\n  const getSizeColor = (name, file, defaultColor = c) => {\n    const severity = budgets.get(name) || file && budgets.get(file);\n    switch (severity) {\n      case 'warning':\n        return y;\n      case 'error':\n        return r;\n      default:\n        return defaultColor;\n    }\n  };\n  const changedEntryChunksStats = [];\n  const changedLazyChunksStats = [];\n  let initialTotalRawSize = 0;\n  let initialTotalEstimatedTransferSize;\n  const budgets = new Map();\n  if (budgetFailures) {\n    for (const {\n      label,\n      severity\n    } of budgetFailures) {\n      // In some cases a file can have multiple budget failures.\n      // Favor error.\n      if (label && (!budgets.has(label) || budgets.get(label) === 'warning')) {\n        budgets.set(label, severity);\n      }\n    }\n  }\n  for (const {\n    initial,\n    stats\n  } of data) {\n    const [files, names, rawSize, estimatedTransferSize] = stats;\n    const getRawSizeColor = getSizeColor(names, files);\n    let data;\n    if (showEstimatedTransferSize) {\n      data = [g(files), names, getRawSizeColor(typeof rawSize === 'number' ? formatSize(rawSize) : rawSize), c(typeof estimatedTransferSize === 'number' ? formatSize(estimatedTransferSize) : estimatedTransferSize)];\n    } else {\n      data = [g(files), names, getRawSizeColor(typeof rawSize === 'number' ? formatSize(rawSize) : rawSize), ''];\n    }\n    if (initial) {\n      changedEntryChunksStats.push(data);\n      if (typeof rawSize === 'number') {\n        initialTotalRawSize += rawSize;\n      }\n      if (showEstimatedTransferSize && typeof estimatedTransferSize === 'number') {\n        if (initialTotalEstimatedTransferSize === undefined) {\n          initialTotalEstimatedTransferSize = 0;\n        }\n        initialTotalEstimatedTransferSize += estimatedTransferSize;\n      }\n    } else {\n      changedLazyChunksStats.push(data);\n    }\n  }\n  const bundleInfo = [];\n  const baseTitles = ['Names', 'Raw Size'];\n  const tableAlign = ['l', 'l', 'r'];\n  if (showEstimatedTransferSize) {\n    baseTitles.push('Estimated Transfer Size');\n    tableAlign.push('r');\n  }\n  // Entry chunks\n  if (changedEntryChunksStats.length) {\n    bundleInfo.push(['Initial Chunk Files', ...baseTitles].map(bold), ...changedEntryChunksStats);\n    if (showTotalSize) {\n      bundleInfo.push([]);\n      const initialSizeTotalColor = getSizeColor('bundle initial', undefined, x => x);\n      const totalSizeElements = [' ', 'Initial Total', initialSizeTotalColor(formatSize(initialTotalRawSize))];\n      if (showEstimatedTransferSize) {\n        totalSizeElements.push(typeof initialTotalEstimatedTransferSize === 'number' ? formatSize(initialTotalEstimatedTransferSize) : '-');\n      }\n      bundleInfo.push(totalSizeElements.map(bold));\n    }\n  }\n  // Seperator\n  if (changedEntryChunksStats.length && changedLazyChunksStats.length) {\n    bundleInfo.push([]);\n  }\n  // Lazy chunks\n  if (changedLazyChunksStats.length) {\n    bundleInfo.push(['Lazy Chunk Files', ...baseTitles].map(bold), ...changedLazyChunksStats);\n  }\n  return (0, text_table_1.default)(bundleInfo, {\n    hsep: dim(' | '),\n    stringLength: s => (0, color_1.removeColor)(s).length,\n    align: tableAlign\n  });\n}\nfunction generateBuildStats(hash, time, colors) {\n  const w = x => colors ? color_1.colors.bold.white(x) : x;\n  return `Build at: ${w(new Date().toISOString())} - Hash: ${w(hash)} - Time: ${w('' + time)}ms`;\n}\n// We use this cache because we can have multiple builders running in the same process,\n// where each builder has different output path.\n// Ideally, we should create the logging callback as a factory, but that would need a refactoring.\nconst runsCache = new Set();\nfunction statsToString(json,\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nstatsConfig, budgetFailures) {\n  var _a, _b;\n  if (!((_a = json.chunks) === null || _a === void 0 ? void 0 : _a.length)) {\n    return '';\n  }\n  const colors = statsConfig.colors;\n  const rs = x => colors ? color_1.colors.reset(x) : x;\n  const changedChunksStats = [];\n  let unchangedChunkNumber = 0;\n  let hasEstimatedTransferSizes = false;\n  const isFirstRun = !runsCache.has(json.outputPath || '');\n  for (const chunk of json.chunks) {\n    // During first build we want to display unchanged chunks\n    // but unchanged cached chunks are always marked as not rendered.\n    if (!isFirstRun && !chunk.rendered) {\n      continue;\n    }\n    const assets = (_b = json.assets) === null || _b === void 0 ? void 0 : _b.filter(asset => {\n      var _a;\n      return (_a = chunk.files) === null || _a === void 0 ? void 0 : _a.includes(asset.name);\n    });\n    let rawSize = 0;\n    let estimatedTransferSize;\n    if (assets) {\n      for (const asset of assets) {\n        if (asset.name.endsWith('.map')) {\n          continue;\n        }\n        rawSize += asset.size;\n        if (typeof asset.info.estimatedTransferSize === 'number') {\n          if (estimatedTransferSize === undefined) {\n            estimatedTransferSize = 0;\n            hasEstimatedTransferSizes = true;\n          }\n          estimatedTransferSize += asset.info.estimatedTransferSize;\n        }\n      }\n    }\n    changedChunksStats.push(generateBundleStats({\n      ...chunk,\n      rawSize,\n      estimatedTransferSize\n    }));\n  }\n  unchangedChunkNumber = json.chunks.length - changedChunksStats.length;\n  runsCache.add(json.outputPath || '');\n  // Sort chunks by size in descending order\n  changedChunksStats.sort((a, b) => {\n    if (a.stats[2] > b.stats[2]) {\n      return -1;\n    }\n    if (a.stats[2] < b.stats[2]) {\n      return 1;\n    }\n    return 0;\n  });\n  const statsTable = generateBuildStatsTable(changedChunksStats, colors, unchangedChunkNumber === 0, hasEstimatedTransferSizes, budgetFailures);\n  // In some cases we do things outside of webpack context\n  // Such us index generation, service worker augmentation etc...\n  // This will correct the time and include these.\n  const time = getBuildDuration(json);\n  if (unchangedChunkNumber > 0) {\n    return '\\n' + rs(core_1.tags.stripIndents`\n      ${statsTable}\n\n      ${unchangedChunkNumber} unchanged chunks\n\n      ${generateBuildStats(json.hash || '', time, colors)}\n      `);\n  } else {\n    return '\\n' + rs(core_1.tags.stripIndents`\n      ${statsTable}\n\n      ${generateBuildStats(json.hash || '', time, colors)}\n      `);\n  }\n}\nfunction statsWarningsToString(json, statsConfig) {\n  const colors = statsConfig.colors;\n  const c = x => colors ? color_1.colors.reset.cyan(x) : x;\n  const y = x => colors ? color_1.colors.reset.yellow(x) : x;\n  const yb = x => colors ? color_1.colors.reset.yellowBright(x) : x;\n  const warnings = json.warnings ? [...json.warnings] : [];\n  if (json.children) {\n    warnings.push(...json.children.map(c => {\n      var _a;\n      return (_a = c.warnings) !== null && _a !== void 0 ? _a : [];\n    }).reduce((a, b) => [...a, ...b], []));\n  }\n  let output = '';\n  for (const warning of warnings) {\n    if (typeof warning === 'string') {\n      output += yb(`Warning: ${warning}\\n\\n`);\n    } else {\n      let file = warning.file || warning.moduleName;\n      // Clean up warning paths\n      // Ex: ./src/app/styles.scss.webpack[javascript/auto]!=!./node_modules/css-loader/dist/cjs.js....\n      // to ./src/app/styles.scss.webpack\n      if (file && !statsConfig.errorDetails) {\n        const webpackPathIndex = file.indexOf('.webpack[');\n        if (webpackPathIndex !== -1) {\n          file = file.substring(0, webpackPathIndex);\n        }\n      }\n      if (file) {\n        output += c(file);\n        if (warning.loc) {\n          output += ':' + yb(warning.loc);\n        }\n        output += ' - ';\n      }\n      if (!/^warning/i.test(warning.message)) {\n        output += y('Warning: ');\n      }\n      output += `${warning.message}\\n\\n`;\n    }\n  }\n  return output ? '\\n' + output : output;\n}\nexports.statsWarningsToString = statsWarningsToString;\nfunction statsErrorsToString(json, statsConfig) {\n  var _a, _b;\n  const colors = statsConfig.colors;\n  const c = x => colors ? color_1.colors.reset.cyan(x) : x;\n  const yb = x => colors ? color_1.colors.reset.yellowBright(x) : x;\n  const r = x => colors ? color_1.colors.reset.redBright(x) : x;\n  const errors = json.errors ? [...json.errors] : [];\n  if (json.children) {\n    errors.push(...json.children.map(c => (c === null || c === void 0 ? void 0 : c.errors) || []).reduce((a, b) => [...a, ...b], []));\n  }\n  let output = '';\n  for (const error of errors) {\n    if (typeof error === 'string') {\n      output += r(`Error: ${error}\\n\\n`);\n    } else {\n      let file = error.file || error.moduleName;\n      // Clean up error paths\n      // Ex: ./src/app/styles.scss.webpack[javascript/auto]!=!./node_modules/css-loader/dist/cjs.js....\n      // to ./src/app/styles.scss.webpack\n      if (file && !statsConfig.errorDetails) {\n        const webpackPathIndex = file.indexOf('.webpack[');\n        if (webpackPathIndex !== -1) {\n          file = file.substring(0, webpackPathIndex);\n        }\n      }\n      if (file) {\n        output += c(file);\n        if (error.loc) {\n          output += ':' + yb(error.loc);\n        }\n        output += ' - ';\n      }\n      // In most cases webpack will add stack traces to error messages.\n      // This below cleans up the error from stacks.\n      // See: https://github.com/webpack/webpack/issues/15980\n      const message = statsConfig.errorStack ? error.message : (_b = (_a = /[\\s\\S]+?(?=\\n+\\s+at\\s)/.exec(error.message)) === null || _a === void 0 ? void 0 : _a[0]) !== null && _b !== void 0 ? _b : error.message;\n      if (!/^error/i.test(message)) {\n        output += r('Error: ');\n      }\n      output += `${message}\\n\\n`;\n    }\n  }\n  return output ? '\\n' + output : output;\n}\nexports.statsErrorsToString = statsErrorsToString;\nfunction statsHasErrors(json) {\n  var _a, _b;\n  return !!(((_a = json.errors) === null || _a === void 0 ? void 0 : _a.length) || ((_b = json.children) === null || _b === void 0 ? void 0 : _b.some(c => {\n    var _a;\n    return (_a = c.errors) === null || _a === void 0 ? void 0 : _a.length;\n  })));\n}\nexports.statsHasErrors = statsHasErrors;\nfunction statsHasWarnings(json) {\n  var _a, _b;\n  return !!(((_a = json.warnings) === null || _a === void 0 ? void 0 : _a.length) || ((_b = json.children) === null || _b === void 0 ? void 0 : _b.some(c => {\n    var _a;\n    return (_a = c.warnings) === null || _a === void 0 ? void 0 : _a.length;\n  })));\n}\nexports.statsHasWarnings = statsHasWarnings;\nfunction createWebpackLoggingCallback(options, logger) {\n  const {\n    verbose = false,\n    scripts = [],\n    styles = []\n  } = options;\n  const extraEntryPoints = [...(0, helpers_1.normalizeExtraEntryPoints)(styles, 'styles'), ...(0, helpers_1.normalizeExtraEntryPoints)(scripts, 'scripts')];\n  return (stats, config) => {\n    if (verbose) {\n      logger.info(stats.toString(config.stats));\n    }\n    const rawStats = stats.toJson((0, helpers_1.getStatsOptions)(false));\n    const webpackStats = {\n      ...rawStats,\n      chunks: (0, async_chunks_1.markAsyncChunksNonInitial)(rawStats, extraEntryPoints)\n    };\n    webpackStatsLogger(logger, webpackStats, config);\n  };\n}\nexports.createWebpackLoggingCallback = createWebpackLoggingCallback;\nfunction generateBuildEventStats(webpackStats, browserBuilderOptions) {\n  var _a, _b;\n  const {\n    chunks = [],\n    assets = []\n  } = webpackStats;\n  let jsSizeInBytes = 0;\n  let cssSizeInBytes = 0;\n  let initialChunksCount = 0;\n  let ngComponentCount = 0;\n  let changedChunksCount = 0;\n  const allChunksCount = chunks.length;\n  const isFirstRun = !runsCache.has(webpackStats.outputPath || '');\n  const chunkFiles = new Set();\n  for (const chunk of chunks) {\n    if (!isFirstRun && chunk.rendered) {\n      changedChunksCount++;\n    }\n    if (chunk.initial) {\n      initialChunksCount++;\n    }\n    for (const file of (_a = chunk.files) !== null && _a !== void 0 ? _a : []) {\n      chunkFiles.add(file);\n    }\n  }\n  for (const asset of assets) {\n    if (asset.name.endsWith('.map') || !chunkFiles.has(asset.name)) {\n      continue;\n    }\n    if (asset.name.endsWith('.js')) {\n      jsSizeInBytes += asset.size;\n      ngComponentCount += (_b = asset.info.ngComponentCount) !== null && _b !== void 0 ? _b : 0;\n    } else if (asset.name.endsWith('.css')) {\n      cssSizeInBytes += asset.size;\n    }\n  }\n  return {\n    optimization: !!(0, utils_1.normalizeOptimization)(browserBuilderOptions.optimization).scripts,\n    aot: browserBuilderOptions.aot !== false,\n    allChunksCount,\n    lazyChunksCount: allChunksCount - initialChunksCount,\n    initialChunksCount,\n    changedChunksCount,\n    durationInMs: getBuildDuration(webpackStats),\n    cssSizeInBytes,\n    jsSizeInBytes,\n    ngComponentCount\n  };\n}\nexports.generateBuildEventStats = generateBuildEventStats;\nfunction webpackStatsLogger(logger, json, config, budgetFailures) {\n  logger.info(statsToString(json, config.stats, budgetFailures));\n  if (typeof config.stats !== 'object') {\n    throw new Error('Invalid Webpack stats configuration.');\n  }\n  if (statsHasWarnings(json)) {\n    logger.warn(statsWarningsToString(json, config.stats));\n  }\n  if (statsHasErrors(json)) {\n    logger.error(statsErrorsToString(json, config.stats));\n  }\n}\nexports.webpackStatsLogger = webpackStatsLogger;","map":{"version":3,"names":["__createBinding","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__setModuleDefault","v","value","__importStar","mod","result","prototype","hasOwnProperty","call","__importDefault","exports","webpackStatsLogger","generateBuildEventStats","createWebpackLoggingCallback","statsHasWarnings","statsHasErrors","statsErrorsToString","statsWarningsToString","formatSize","core_1","require","assert_1","path","text_table_1","utils_1","color_1","async_chunks_1","helpers_1","size","abbreviations","index","Math","floor","log","roundedSize","pow","fractionDigits","toFixed","getBuildDuration","webpackStats","default","builtAt","time","Date","now","generateBundleStats","info","_a","_b","_c","rawSize","estimatedTransferSize","files","filter","f","endsWith","map","basename","join","names","length","initial","stats","generateBuildStatsTable","data","colors","showTotalSize","showEstimatedTransferSize","budgetFailures","g","x","greenBright","c","cyanBright","r","redBright","y","yellowBright","bold","dim","getSizeColor","name","file","defaultColor","severity","budgets","changedEntryChunksStats","changedLazyChunksStats","initialTotalRawSize","initialTotalEstimatedTransferSize","Map","label","has","set","getRawSizeColor","push","bundleInfo","baseTitles","tableAlign","initialSizeTotalColor","totalSizeElements","hsep","stringLength","s","removeColor","align","generateBuildStats","hash","w","white","toISOString","runsCache","Set","statsToString","json","statsConfig","chunks","rs","reset","changedChunksStats","unchangedChunkNumber","hasEstimatedTransferSizes","isFirstRun","outputPath","chunk","rendered","assets","asset","includes","add","sort","a","b","statsTable","tags","stripIndents","cyan","yellow","yb","warnings","children","reduce","output","warning","moduleName","errorDetails","webpackPathIndex","indexOf","substring","loc","test","message","errors","error","errorStack","exec","some","options","logger","verbose","scripts","styles","extraEntryPoints","normalizeExtraEntryPoints","config","toString","rawStats","toJson","getStatsOptions","markAsyncChunksNonInitial","browserBuilderOptions","jsSizeInBytes","cssSizeInBytes","initialChunksCount","ngComponentCount","changedChunksCount","allChunksCount","chunkFiles","optimization","normalizeOptimization","aot","lazyChunksCount","durationInMs","Error","warn"],"sources":["C:/Users/Nawaz/Downloads/mean-stack-authentication-authorization-master/mean-stack-authentication-authorization-master/Frontend/node_modules/@angular-devkit/build-angular/src/webpack/utils/stats.js"],"sourcesContent":["\"use strict\";\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.webpackStatsLogger = exports.generateBuildEventStats = exports.createWebpackLoggingCallback = exports.statsHasWarnings = exports.statsHasErrors = exports.statsErrorsToString = exports.statsWarningsToString = exports.formatSize = void 0;\nconst core_1 = require(\"@angular-devkit/core\");\nconst assert_1 = __importDefault(require(\"assert\"));\nconst path = __importStar(require(\"path\"));\nconst text_table_1 = __importDefault(require(\"text-table\"));\nconst utils_1 = require(\"../../utils\");\nconst color_1 = require(\"../../utils/color\");\nconst async_chunks_1 = require(\"./async-chunks\");\nconst helpers_1 = require(\"./helpers\");\nfunction formatSize(size) {\n    if (size <= 0) {\n        return '0 bytes';\n    }\n    const abbreviations = ['bytes', 'kB', 'MB', 'GB'];\n    const index = Math.floor(Math.log(size) / Math.log(1024));\n    const roundedSize = size / Math.pow(1024, index);\n    // bytes don't have a fraction\n    const fractionDigits = index === 0 ? 0 : 2;\n    return `${roundedSize.toFixed(fractionDigits)} ${abbreviations[index]}`;\n}\nexports.formatSize = formatSize;\nfunction getBuildDuration(webpackStats) {\n    (0, assert_1.default)(webpackStats.builtAt, 'buildAt cannot be undefined');\n    (0, assert_1.default)(webpackStats.time, 'time cannot be undefined');\n    return Date.now() - webpackStats.builtAt + webpackStats.time;\n}\nfunction generateBundleStats(info) {\n    var _a, _b, _c;\n    const rawSize = typeof info.rawSize === 'number' ? info.rawSize : '-';\n    const estimatedTransferSize = typeof info.estimatedTransferSize === 'number' ? info.estimatedTransferSize : '-';\n    const files = (_b = (_a = info.files) === null || _a === void 0 ? void 0 : _a.filter((f) => !f.endsWith('.map')).map((f) => path.basename(f)).join(', ')) !== null && _b !== void 0 ? _b : '';\n    const names = ((_c = info.names) === null || _c === void 0 ? void 0 : _c.length) ? info.names.join(', ') : '-';\n    const initial = !!info.initial;\n    return {\n        initial,\n        stats: [files, names, rawSize, estimatedTransferSize],\n    };\n}\nfunction generateBuildStatsTable(data, colors, showTotalSize, showEstimatedTransferSize, budgetFailures) {\n    const g = (x) => (colors ? color_1.colors.greenBright(x) : x);\n    const c = (x) => (colors ? color_1.colors.cyanBright(x) : x);\n    const r = (x) => (colors ? color_1.colors.redBright(x) : x);\n    const y = (x) => (colors ? color_1.colors.yellowBright(x) : x);\n    const bold = (x) => (colors ? color_1.colors.bold(x) : x);\n    const dim = (x) => (colors ? color_1.colors.dim(x) : x);\n    const getSizeColor = (name, file, defaultColor = c) => {\n        const severity = budgets.get(name) || (file && budgets.get(file));\n        switch (severity) {\n            case 'warning':\n                return y;\n            case 'error':\n                return r;\n            default:\n                return defaultColor;\n        }\n    };\n    const changedEntryChunksStats = [];\n    const changedLazyChunksStats = [];\n    let initialTotalRawSize = 0;\n    let initialTotalEstimatedTransferSize;\n    const budgets = new Map();\n    if (budgetFailures) {\n        for (const { label, severity } of budgetFailures) {\n            // In some cases a file can have multiple budget failures.\n            // Favor error.\n            if (label && (!budgets.has(label) || budgets.get(label) === 'warning')) {\n                budgets.set(label, severity);\n            }\n        }\n    }\n    for (const { initial, stats } of data) {\n        const [files, names, rawSize, estimatedTransferSize] = stats;\n        const getRawSizeColor = getSizeColor(names, files);\n        let data;\n        if (showEstimatedTransferSize) {\n            data = [\n                g(files),\n                names,\n                getRawSizeColor(typeof rawSize === 'number' ? formatSize(rawSize) : rawSize),\n                c(typeof estimatedTransferSize === 'number'\n                    ? formatSize(estimatedTransferSize)\n                    : estimatedTransferSize),\n            ];\n        }\n        else {\n            data = [\n                g(files),\n                names,\n                getRawSizeColor(typeof rawSize === 'number' ? formatSize(rawSize) : rawSize),\n                '',\n            ];\n        }\n        if (initial) {\n            changedEntryChunksStats.push(data);\n            if (typeof rawSize === 'number') {\n                initialTotalRawSize += rawSize;\n            }\n            if (showEstimatedTransferSize && typeof estimatedTransferSize === 'number') {\n                if (initialTotalEstimatedTransferSize === undefined) {\n                    initialTotalEstimatedTransferSize = 0;\n                }\n                initialTotalEstimatedTransferSize += estimatedTransferSize;\n            }\n        }\n        else {\n            changedLazyChunksStats.push(data);\n        }\n    }\n    const bundleInfo = [];\n    const baseTitles = ['Names', 'Raw Size'];\n    const tableAlign = ['l', 'l', 'r'];\n    if (showEstimatedTransferSize) {\n        baseTitles.push('Estimated Transfer Size');\n        tableAlign.push('r');\n    }\n    // Entry chunks\n    if (changedEntryChunksStats.length) {\n        bundleInfo.push(['Initial Chunk Files', ...baseTitles].map(bold), ...changedEntryChunksStats);\n        if (showTotalSize) {\n            bundleInfo.push([]);\n            const initialSizeTotalColor = getSizeColor('bundle initial', undefined, (x) => x);\n            const totalSizeElements = [\n                ' ',\n                'Initial Total',\n                initialSizeTotalColor(formatSize(initialTotalRawSize)),\n            ];\n            if (showEstimatedTransferSize) {\n                totalSizeElements.push(typeof initialTotalEstimatedTransferSize === 'number'\n                    ? formatSize(initialTotalEstimatedTransferSize)\n                    : '-');\n            }\n            bundleInfo.push(totalSizeElements.map(bold));\n        }\n    }\n    // Seperator\n    if (changedEntryChunksStats.length && changedLazyChunksStats.length) {\n        bundleInfo.push([]);\n    }\n    // Lazy chunks\n    if (changedLazyChunksStats.length) {\n        bundleInfo.push(['Lazy Chunk Files', ...baseTitles].map(bold), ...changedLazyChunksStats);\n    }\n    return (0, text_table_1.default)(bundleInfo, {\n        hsep: dim(' | '),\n        stringLength: (s) => (0, color_1.removeColor)(s).length,\n        align: tableAlign,\n    });\n}\nfunction generateBuildStats(hash, time, colors) {\n    const w = (x) => (colors ? color_1.colors.bold.white(x) : x);\n    return `Build at: ${w(new Date().toISOString())} - Hash: ${w(hash)} - Time: ${w('' + time)}ms`;\n}\n// We use this cache because we can have multiple builders running in the same process,\n// where each builder has different output path.\n// Ideally, we should create the logging callback as a factory, but that would need a refactoring.\nconst runsCache = new Set();\nfunction statsToString(json, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nstatsConfig, budgetFailures) {\n    var _a, _b;\n    if (!((_a = json.chunks) === null || _a === void 0 ? void 0 : _a.length)) {\n        return '';\n    }\n    const colors = statsConfig.colors;\n    const rs = (x) => (colors ? color_1.colors.reset(x) : x);\n    const changedChunksStats = [];\n    let unchangedChunkNumber = 0;\n    let hasEstimatedTransferSizes = false;\n    const isFirstRun = !runsCache.has(json.outputPath || '');\n    for (const chunk of json.chunks) {\n        // During first build we want to display unchanged chunks\n        // but unchanged cached chunks are always marked as not rendered.\n        if (!isFirstRun && !chunk.rendered) {\n            continue;\n        }\n        const assets = (_b = json.assets) === null || _b === void 0 ? void 0 : _b.filter((asset) => { var _a; return (_a = chunk.files) === null || _a === void 0 ? void 0 : _a.includes(asset.name); });\n        let rawSize = 0;\n        let estimatedTransferSize;\n        if (assets) {\n            for (const asset of assets) {\n                if (asset.name.endsWith('.map')) {\n                    continue;\n                }\n                rawSize += asset.size;\n                if (typeof asset.info.estimatedTransferSize === 'number') {\n                    if (estimatedTransferSize === undefined) {\n                        estimatedTransferSize = 0;\n                        hasEstimatedTransferSizes = true;\n                    }\n                    estimatedTransferSize += asset.info.estimatedTransferSize;\n                }\n            }\n        }\n        changedChunksStats.push(generateBundleStats({ ...chunk, rawSize, estimatedTransferSize }));\n    }\n    unchangedChunkNumber = json.chunks.length - changedChunksStats.length;\n    runsCache.add(json.outputPath || '');\n    // Sort chunks by size in descending order\n    changedChunksStats.sort((a, b) => {\n        if (a.stats[2] > b.stats[2]) {\n            return -1;\n        }\n        if (a.stats[2] < b.stats[2]) {\n            return 1;\n        }\n        return 0;\n    });\n    const statsTable = generateBuildStatsTable(changedChunksStats, colors, unchangedChunkNumber === 0, hasEstimatedTransferSizes, budgetFailures);\n    // In some cases we do things outside of webpack context\n    // Such us index generation, service worker augmentation etc...\n    // This will correct the time and include these.\n    const time = getBuildDuration(json);\n    if (unchangedChunkNumber > 0) {\n        return ('\\n' +\n            rs(core_1.tags.stripIndents `\n      ${statsTable}\n\n      ${unchangedChunkNumber} unchanged chunks\n\n      ${generateBuildStats(json.hash || '', time, colors)}\n      `));\n    }\n    else {\n        return ('\\n' +\n            rs(core_1.tags.stripIndents `\n      ${statsTable}\n\n      ${generateBuildStats(json.hash || '', time, colors)}\n      `));\n    }\n}\nfunction statsWarningsToString(json, statsConfig) {\n    const colors = statsConfig.colors;\n    const c = (x) => (colors ? color_1.colors.reset.cyan(x) : x);\n    const y = (x) => (colors ? color_1.colors.reset.yellow(x) : x);\n    const yb = (x) => (colors ? color_1.colors.reset.yellowBright(x) : x);\n    const warnings = json.warnings ? [...json.warnings] : [];\n    if (json.children) {\n        warnings.push(...json.children.map((c) => { var _a; return (_a = c.warnings) !== null && _a !== void 0 ? _a : []; }).reduce((a, b) => [...a, ...b], []));\n    }\n    let output = '';\n    for (const warning of warnings) {\n        if (typeof warning === 'string') {\n            output += yb(`Warning: ${warning}\\n\\n`);\n        }\n        else {\n            let file = warning.file || warning.moduleName;\n            // Clean up warning paths\n            // Ex: ./src/app/styles.scss.webpack[javascript/auto]!=!./node_modules/css-loader/dist/cjs.js....\n            // to ./src/app/styles.scss.webpack\n            if (file && !statsConfig.errorDetails) {\n                const webpackPathIndex = file.indexOf('.webpack[');\n                if (webpackPathIndex !== -1) {\n                    file = file.substring(0, webpackPathIndex);\n                }\n            }\n            if (file) {\n                output += c(file);\n                if (warning.loc) {\n                    output += ':' + yb(warning.loc);\n                }\n                output += ' - ';\n            }\n            if (!/^warning/i.test(warning.message)) {\n                output += y('Warning: ');\n            }\n            output += `${warning.message}\\n\\n`;\n        }\n    }\n    return output ? '\\n' + output : output;\n}\nexports.statsWarningsToString = statsWarningsToString;\nfunction statsErrorsToString(json, statsConfig) {\n    var _a, _b;\n    const colors = statsConfig.colors;\n    const c = (x) => (colors ? color_1.colors.reset.cyan(x) : x);\n    const yb = (x) => (colors ? color_1.colors.reset.yellowBright(x) : x);\n    const r = (x) => (colors ? color_1.colors.reset.redBright(x) : x);\n    const errors = json.errors ? [...json.errors] : [];\n    if (json.children) {\n        errors.push(...json.children.map((c) => (c === null || c === void 0 ? void 0 : c.errors) || []).reduce((a, b) => [...a, ...b], []));\n    }\n    let output = '';\n    for (const error of errors) {\n        if (typeof error === 'string') {\n            output += r(`Error: ${error}\\n\\n`);\n        }\n        else {\n            let file = error.file || error.moduleName;\n            // Clean up error paths\n            // Ex: ./src/app/styles.scss.webpack[javascript/auto]!=!./node_modules/css-loader/dist/cjs.js....\n            // to ./src/app/styles.scss.webpack\n            if (file && !statsConfig.errorDetails) {\n                const webpackPathIndex = file.indexOf('.webpack[');\n                if (webpackPathIndex !== -1) {\n                    file = file.substring(0, webpackPathIndex);\n                }\n            }\n            if (file) {\n                output += c(file);\n                if (error.loc) {\n                    output += ':' + yb(error.loc);\n                }\n                output += ' - ';\n            }\n            // In most cases webpack will add stack traces to error messages.\n            // This below cleans up the error from stacks.\n            // See: https://github.com/webpack/webpack/issues/15980\n            const message = statsConfig.errorStack\n                ? error.message\n                : (_b = (_a = /[\\s\\S]+?(?=\\n+\\s+at\\s)/.exec(error.message)) === null || _a === void 0 ? void 0 : _a[0]) !== null && _b !== void 0 ? _b : error.message;\n            if (!/^error/i.test(message)) {\n                output += r('Error: ');\n            }\n            output += `${message}\\n\\n`;\n        }\n    }\n    return output ? '\\n' + output : output;\n}\nexports.statsErrorsToString = statsErrorsToString;\nfunction statsHasErrors(json) {\n    var _a, _b;\n    return !!(((_a = json.errors) === null || _a === void 0 ? void 0 : _a.length) || ((_b = json.children) === null || _b === void 0 ? void 0 : _b.some((c) => { var _a; return (_a = c.errors) === null || _a === void 0 ? void 0 : _a.length; })));\n}\nexports.statsHasErrors = statsHasErrors;\nfunction statsHasWarnings(json) {\n    var _a, _b;\n    return !!(((_a = json.warnings) === null || _a === void 0 ? void 0 : _a.length) || ((_b = json.children) === null || _b === void 0 ? void 0 : _b.some((c) => { var _a; return (_a = c.warnings) === null || _a === void 0 ? void 0 : _a.length; })));\n}\nexports.statsHasWarnings = statsHasWarnings;\nfunction createWebpackLoggingCallback(options, logger) {\n    const { verbose = false, scripts = [], styles = [] } = options;\n    const extraEntryPoints = [\n        ...(0, helpers_1.normalizeExtraEntryPoints)(styles, 'styles'),\n        ...(0, helpers_1.normalizeExtraEntryPoints)(scripts, 'scripts'),\n    ];\n    return (stats, config) => {\n        if (verbose) {\n            logger.info(stats.toString(config.stats));\n        }\n        const rawStats = stats.toJson((0, helpers_1.getStatsOptions)(false));\n        const webpackStats = {\n            ...rawStats,\n            chunks: (0, async_chunks_1.markAsyncChunksNonInitial)(rawStats, extraEntryPoints),\n        };\n        webpackStatsLogger(logger, webpackStats, config);\n    };\n}\nexports.createWebpackLoggingCallback = createWebpackLoggingCallback;\nfunction generateBuildEventStats(webpackStats, browserBuilderOptions) {\n    var _a, _b;\n    const { chunks = [], assets = [] } = webpackStats;\n    let jsSizeInBytes = 0;\n    let cssSizeInBytes = 0;\n    let initialChunksCount = 0;\n    let ngComponentCount = 0;\n    let changedChunksCount = 0;\n    const allChunksCount = chunks.length;\n    const isFirstRun = !runsCache.has(webpackStats.outputPath || '');\n    const chunkFiles = new Set();\n    for (const chunk of chunks) {\n        if (!isFirstRun && chunk.rendered) {\n            changedChunksCount++;\n        }\n        if (chunk.initial) {\n            initialChunksCount++;\n        }\n        for (const file of (_a = chunk.files) !== null && _a !== void 0 ? _a : []) {\n            chunkFiles.add(file);\n        }\n    }\n    for (const asset of assets) {\n        if (asset.name.endsWith('.map') || !chunkFiles.has(asset.name)) {\n            continue;\n        }\n        if (asset.name.endsWith('.js')) {\n            jsSizeInBytes += asset.size;\n            ngComponentCount += (_b = asset.info.ngComponentCount) !== null && _b !== void 0 ? _b : 0;\n        }\n        else if (asset.name.endsWith('.css')) {\n            cssSizeInBytes += asset.size;\n        }\n    }\n    return {\n        optimization: !!(0, utils_1.normalizeOptimization)(browserBuilderOptions.optimization).scripts,\n        aot: browserBuilderOptions.aot !== false,\n        allChunksCount,\n        lazyChunksCount: allChunksCount - initialChunksCount,\n        initialChunksCount,\n        changedChunksCount,\n        durationInMs: getBuildDuration(webpackStats),\n        cssSizeInBytes,\n        jsSizeInBytes,\n        ngComponentCount,\n    };\n}\nexports.generateBuildEventStats = generateBuildEventStats;\nfunction webpackStatsLogger(logger, json, config, budgetFailures) {\n    logger.info(statsToString(json, config.stats, budgetFailures));\n    if (typeof config.stats !== 'object') {\n        throw new Error('Invalid Webpack stats configuration.');\n    }\n    if (statsHasWarnings(json)) {\n        logger.warn(statsWarningsToString(json, config.stats));\n    }\n    if (statsHasErrors(json)) {\n        logger.error(statsErrorsToString(json, config.stats));\n    }\n}\nexports.webpackStatsLogger = webpackStatsLogger;\n"],"mappings":"AAAA,YAAY;;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAIA,eAAe,GAAI,IAAI,IAAI,IAAI,CAACA,eAAe,KAAMC,MAAM,CAACC,MAAM,GAAI,UAASC,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,EAAE,EAAE;EAC5F,IAAIA,EAAE,KAAKC,SAAS,EAAED,EAAE,GAAGD,CAAC;EAC5B,IAAIG,IAAI,GAAGP,MAAM,CAACQ,wBAAwB,CAACL,CAAC,EAAEC,CAAC,CAAC;EAChD,IAAI,CAACG,IAAI,KAAK,KAAK,IAAIA,IAAI,GAAG,CAACJ,CAAC,CAACM,UAAU,GAAGF,IAAI,CAACG,QAAQ,IAAIH,IAAI,CAACI,YAAY,CAAC,EAAE;IACjFJ,IAAI,GAAG;MAAEK,UAAU,EAAE,IAAI;MAAEC,GAAG,EAAE,YAAW;QAAE,OAAOV,CAAC,CAACC,CAAC,CAAC;MAAE;IAAE,CAAC;EAC/D;EACAJ,MAAM,CAACc,cAAc,CAACZ,CAAC,EAAEG,EAAE,EAAEE,IAAI,CAAC;AACtC,CAAC,GAAK,UAASL,CAAC,EAAEC,CAAC,EAAEC,CAAC,EAAEC,EAAE,EAAE;EACxB,IAAIA,EAAE,KAAKC,SAAS,EAAED,EAAE,GAAGD,CAAC;EAC5BF,CAAC,CAACG,EAAE,CAAC,GAAGF,CAAC,CAACC,CAAC,CAAC;AAChB,CAAE,CAAC;AACH,IAAIW,kBAAkB,GAAI,IAAI,IAAI,IAAI,CAACA,kBAAkB,KAAMf,MAAM,CAACC,MAAM,GAAI,UAASC,CAAC,EAAEc,CAAC,EAAE;EAC3FhB,MAAM,CAACc,cAAc,CAACZ,CAAC,EAAE,SAAS,EAAE;IAAEU,UAAU,EAAE,IAAI;IAAEK,KAAK,EAAED;EAAE,CAAC,CAAC;AACvE,CAAC,GAAI,UAASd,CAAC,EAAEc,CAAC,EAAE;EAChBd,CAAC,CAAC,SAAS,CAAC,GAAGc,CAAC;AACpB,CAAC,CAAC;AACF,IAAIE,YAAY,GAAI,IAAI,IAAI,IAAI,CAACA,YAAY,IAAK,UAAUC,GAAG,EAAE;EAC7D,IAAIA,GAAG,IAAIA,GAAG,CAACV,UAAU,EAAE,OAAOU,GAAG;EACrC,IAAIC,MAAM,GAAG,CAAC,CAAC;EACf,IAAID,GAAG,IAAI,IAAI,EAAE,KAAK,IAAIf,CAAC,IAAIe,GAAG,EAAE,IAAIf,CAAC,KAAK,SAAS,IAAIJ,MAAM,CAACqB,SAAS,CAACC,cAAc,CAACC,IAAI,CAACJ,GAAG,EAAEf,CAAC,CAAC,EAAEL,eAAe,CAACqB,MAAM,EAAED,GAAG,EAAEf,CAAC,CAAC;EACxIW,kBAAkB,CAACK,MAAM,EAAED,GAAG,CAAC;EAC/B,OAAOC,MAAM;AACjB,CAAC;AACD,IAAII,eAAe,GAAI,IAAI,IAAI,IAAI,CAACA,eAAe,IAAK,UAAUL,GAAG,EAAE;EACnE,OAAQA,GAAG,IAAIA,GAAG,CAACV,UAAU,GAAIU,GAAG,GAAG;IAAE,SAAS,EAAEA;EAAI,CAAC;AAC7D,CAAC;AACDnB,MAAM,CAACc,cAAc,CAACW,OAAO,EAAE,YAAY,EAAE;EAAER,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DQ,OAAO,CAACC,kBAAkB,GAAGD,OAAO,CAACE,uBAAuB,GAAGF,OAAO,CAACG,4BAA4B,GAAGH,OAAO,CAACI,gBAAgB,GAAGJ,OAAO,CAACK,cAAc,GAAGL,OAAO,CAACM,mBAAmB,GAAGN,OAAO,CAACO,qBAAqB,GAAGP,OAAO,CAACQ,UAAU,GAAG,KAAK,CAAC;AACnP,MAAMC,MAAM,GAAGC,OAAO,CAAC,sBAAsB,CAAC;AAC9C,MAAMC,QAAQ,GAAGZ,eAAe,CAACW,OAAO,CAAC,QAAQ,CAAC,CAAC;AACnD,MAAME,IAAI,GAAGnB,YAAY,CAACiB,OAAO,CAAC,MAAM,CAAC,CAAC;AAC1C,MAAMG,YAAY,GAAGd,eAAe,CAACW,OAAO,CAAC,YAAY,CAAC,CAAC;AAC3D,MAAMI,OAAO,GAAGJ,OAAO,CAAC,aAAa,CAAC;AACtC,MAAMK,OAAO,GAAGL,OAAO,CAAC,mBAAmB,CAAC;AAC5C,MAAMM,cAAc,GAAGN,OAAO,CAAC,gBAAgB,CAAC;AAChD,MAAMO,SAAS,GAAGP,OAAO,CAAC,WAAW,CAAC;AACtC,SAASF,UAAU,CAACU,IAAI,EAAE;EACtB,IAAIA,IAAI,IAAI,CAAC,EAAE;IACX,OAAO,SAAS;EACpB;EACA,MAAMC,aAAa,GAAG,CAAC,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;EACjD,MAAMC,KAAK,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,GAAG,CAACL,IAAI,CAAC,GAAGG,IAAI,CAACE,GAAG,CAAC,IAAI,CAAC,CAAC;EACzD,MAAMC,WAAW,GAAGN,IAAI,GAAGG,IAAI,CAACI,GAAG,CAAC,IAAI,EAAEL,KAAK,CAAC;EAChD;EACA,MAAMM,cAAc,GAAGN,KAAK,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC;EAC1C,OAAQ,GAAEI,WAAW,CAACG,OAAO,CAACD,cAAc,CAAE,IAAGP,aAAa,CAACC,KAAK,CAAE,EAAC;AAC3E;AACApB,OAAO,CAACQ,UAAU,GAAGA,UAAU;AAC/B,SAASoB,gBAAgB,CAACC,YAAY,EAAE;EACpC,CAAC,CAAC,EAAElB,QAAQ,CAACmB,OAAO,EAAED,YAAY,CAACE,OAAO,EAAE,6BAA6B,CAAC;EAC1E,CAAC,CAAC,EAAEpB,QAAQ,CAACmB,OAAO,EAAED,YAAY,CAACG,IAAI,EAAE,0BAA0B,CAAC;EACpE,OAAOC,IAAI,CAACC,GAAG,EAAE,GAAGL,YAAY,CAACE,OAAO,GAAGF,YAAY,CAACG,IAAI;AAChE;AACA,SAASG,mBAAmB,CAACC,IAAI,EAAE;EAC/B,IAAIC,EAAE,EAAEC,EAAE,EAAEC,EAAE;EACd,MAAMC,OAAO,GAAG,OAAOJ,IAAI,CAACI,OAAO,KAAK,QAAQ,GAAGJ,IAAI,CAACI,OAAO,GAAG,GAAG;EACrE,MAAMC,qBAAqB,GAAG,OAAOL,IAAI,CAACK,qBAAqB,KAAK,QAAQ,GAAGL,IAAI,CAACK,qBAAqB,GAAG,GAAG;EAC/G,MAAMC,KAAK,GAAG,CAACJ,EAAE,GAAG,CAACD,EAAE,GAAGD,IAAI,CAACM,KAAK,MAAM,IAAI,IAAIL,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACM,MAAM,CAAEC,CAAC,IAAK,CAACA,CAAC,CAACC,QAAQ,CAAC,MAAM,CAAC,CAAC,CAACC,GAAG,CAAEF,CAAC,IAAKhC,IAAI,CAACmC,QAAQ,CAACH,CAAC,CAAC,CAAC,CAACI,IAAI,CAAC,IAAI,CAAC,MAAM,IAAI,IAAIV,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,EAAE;EAC7L,MAAMW,KAAK,GAAG,CAAC,CAACV,EAAE,GAAGH,IAAI,CAACa,KAAK,MAAM,IAAI,IAAIV,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACW,MAAM,IAAId,IAAI,CAACa,KAAK,CAACD,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG;EAC9G,MAAMG,OAAO,GAAG,CAAC,CAACf,IAAI,CAACe,OAAO;EAC9B,OAAO;IACHA,OAAO;IACPC,KAAK,EAAE,CAACV,KAAK,EAAEO,KAAK,EAAET,OAAO,EAAEC,qBAAqB;EACxD,CAAC;AACL;AACA,SAASY,uBAAuB,CAACC,IAAI,EAAEC,MAAM,EAAEC,aAAa,EAAEC,yBAAyB,EAAEC,cAAc,EAAE;EACrG,MAAMC,CAAC,GAAIC,CAAC,IAAML,MAAM,GAAGxC,OAAO,CAACwC,MAAM,CAACM,WAAW,CAACD,CAAC,CAAC,GAAGA,CAAE;EAC7D,MAAME,CAAC,GAAIF,CAAC,IAAML,MAAM,GAAGxC,OAAO,CAACwC,MAAM,CAACQ,UAAU,CAACH,CAAC,CAAC,GAAGA,CAAE;EAC5D,MAAMI,CAAC,GAAIJ,CAAC,IAAML,MAAM,GAAGxC,OAAO,CAACwC,MAAM,CAACU,SAAS,CAACL,CAAC,CAAC,GAAGA,CAAE;EAC3D,MAAMM,CAAC,GAAIN,CAAC,IAAML,MAAM,GAAGxC,OAAO,CAACwC,MAAM,CAACY,YAAY,CAACP,CAAC,CAAC,GAAGA,CAAE;EAC9D,MAAMQ,IAAI,GAAIR,CAAC,IAAML,MAAM,GAAGxC,OAAO,CAACwC,MAAM,CAACa,IAAI,CAACR,CAAC,CAAC,GAAGA,CAAE;EACzD,MAAMS,GAAG,GAAIT,CAAC,IAAML,MAAM,GAAGxC,OAAO,CAACwC,MAAM,CAACc,GAAG,CAACT,CAAC,CAAC,GAAGA,CAAE;EACvD,MAAMU,YAAY,GAAG,CAACC,IAAI,EAAEC,IAAI,EAAEC,YAAY,GAAGX,CAAC,KAAK;IACnD,MAAMY,QAAQ,GAAGC,OAAO,CAACvF,GAAG,CAACmF,IAAI,CAAC,IAAKC,IAAI,IAAIG,OAAO,CAACvF,GAAG,CAACoF,IAAI,CAAE;IACjE,QAAQE,QAAQ;MACZ,KAAK,SAAS;QACV,OAAOR,CAAC;MACZ,KAAK,OAAO;QACR,OAAOF,CAAC;MACZ;QACI,OAAOS,YAAY;IAAC;EAEhC,CAAC;EACD,MAAMG,uBAAuB,GAAG,EAAE;EAClC,MAAMC,sBAAsB,GAAG,EAAE;EACjC,IAAIC,mBAAmB,GAAG,CAAC;EAC3B,IAAIC,iCAAiC;EACrC,MAAMJ,OAAO,GAAG,IAAIK,GAAG,EAAE;EACzB,IAAItB,cAAc,EAAE;IAChB,KAAK,MAAM;MAAEuB,KAAK;MAAEP;IAAS,CAAC,IAAIhB,cAAc,EAAE;MAC9C;MACA;MACA,IAAIuB,KAAK,KAAK,CAACN,OAAO,CAACO,GAAG,CAACD,KAAK,CAAC,IAAIN,OAAO,CAACvF,GAAG,CAAC6F,KAAK,CAAC,KAAK,SAAS,CAAC,EAAE;QACpEN,OAAO,CAACQ,GAAG,CAACF,KAAK,EAAEP,QAAQ,CAAC;MAChC;IACJ;EACJ;EACA,KAAK,MAAM;IAAEvB,OAAO;IAAEC;EAAM,CAAC,IAAIE,IAAI,EAAE;IACnC,MAAM,CAACZ,KAAK,EAAEO,KAAK,EAAET,OAAO,EAAEC,qBAAqB,CAAC,GAAGW,KAAK;IAC5D,MAAMgC,eAAe,GAAGd,YAAY,CAACrB,KAAK,EAAEP,KAAK,CAAC;IAClD,IAAIY,IAAI;IACR,IAAIG,yBAAyB,EAAE;MAC3BH,IAAI,GAAG,CACHK,CAAC,CAACjB,KAAK,CAAC,EACRO,KAAK,EACLmC,eAAe,CAAC,OAAO5C,OAAO,KAAK,QAAQ,GAAGhC,UAAU,CAACgC,OAAO,CAAC,GAAGA,OAAO,CAAC,EAC5EsB,CAAC,CAAC,OAAOrB,qBAAqB,KAAK,QAAQ,GACrCjC,UAAU,CAACiC,qBAAqB,CAAC,GACjCA,qBAAqB,CAAC,CAC/B;IACL,CAAC,MACI;MACDa,IAAI,GAAG,CACHK,CAAC,CAACjB,KAAK,CAAC,EACRO,KAAK,EACLmC,eAAe,CAAC,OAAO5C,OAAO,KAAK,QAAQ,GAAGhC,UAAU,CAACgC,OAAO,CAAC,GAAGA,OAAO,CAAC,EAC5E,EAAE,CACL;IACL;IACA,IAAIW,OAAO,EAAE;MACTyB,uBAAuB,CAACS,IAAI,CAAC/B,IAAI,CAAC;MAClC,IAAI,OAAOd,OAAO,KAAK,QAAQ,EAAE;QAC7BsC,mBAAmB,IAAItC,OAAO;MAClC;MACA,IAAIiB,yBAAyB,IAAI,OAAOhB,qBAAqB,KAAK,QAAQ,EAAE;QACxE,IAAIsC,iCAAiC,KAAKlG,SAAS,EAAE;UACjDkG,iCAAiC,GAAG,CAAC;QACzC;QACAA,iCAAiC,IAAItC,qBAAqB;MAC9D;IACJ,CAAC,MACI;MACDoC,sBAAsB,CAACQ,IAAI,CAAC/B,IAAI,CAAC;IACrC;EACJ;EACA,MAAMgC,UAAU,GAAG,EAAE;EACrB,MAAMC,UAAU,GAAG,CAAC,OAAO,EAAE,UAAU,CAAC;EACxC,MAAMC,UAAU,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;EAClC,IAAI/B,yBAAyB,EAAE;IAC3B8B,UAAU,CAACF,IAAI,CAAC,yBAAyB,CAAC;IAC1CG,UAAU,CAACH,IAAI,CAAC,GAAG,CAAC;EACxB;EACA;EACA,IAAIT,uBAAuB,CAAC1B,MAAM,EAAE;IAChCoC,UAAU,CAACD,IAAI,CAAC,CAAC,qBAAqB,EAAE,GAAGE,UAAU,CAAC,CAACzC,GAAG,CAACsB,IAAI,CAAC,EAAE,GAAGQ,uBAAuB,CAAC;IAC7F,IAAIpB,aAAa,EAAE;MACf8B,UAAU,CAACD,IAAI,CAAC,EAAE,CAAC;MACnB,MAAMI,qBAAqB,GAAGnB,YAAY,CAAC,gBAAgB,EAAEzF,SAAS,EAAG+E,CAAC,IAAKA,CAAC,CAAC;MACjF,MAAM8B,iBAAiB,GAAG,CACtB,GAAG,EACH,eAAe,EACfD,qBAAqB,CAACjF,UAAU,CAACsE,mBAAmB,CAAC,CAAC,CACzD;MACD,IAAIrB,yBAAyB,EAAE;QAC3BiC,iBAAiB,CAACL,IAAI,CAAC,OAAON,iCAAiC,KAAK,QAAQ,GACtEvE,UAAU,CAACuE,iCAAiC,CAAC,GAC7C,GAAG,CAAC;MACd;MACAO,UAAU,CAACD,IAAI,CAACK,iBAAiB,CAAC5C,GAAG,CAACsB,IAAI,CAAC,CAAC;IAChD;EACJ;EACA;EACA,IAAIQ,uBAAuB,CAAC1B,MAAM,IAAI2B,sBAAsB,CAAC3B,MAAM,EAAE;IACjEoC,UAAU,CAACD,IAAI,CAAC,EAAE,CAAC;EACvB;EACA;EACA,IAAIR,sBAAsB,CAAC3B,MAAM,EAAE;IAC/BoC,UAAU,CAACD,IAAI,CAAC,CAAC,kBAAkB,EAAE,GAAGE,UAAU,CAAC,CAACzC,GAAG,CAACsB,IAAI,CAAC,EAAE,GAAGS,sBAAsB,CAAC;EAC7F;EACA,OAAO,CAAC,CAAC,EAAEhE,YAAY,CAACiB,OAAO,EAAEwD,UAAU,EAAE;IACzCK,IAAI,EAAEtB,GAAG,CAAC,KAAK,CAAC;IAChBuB,YAAY,EAAGC,CAAC,IAAK,CAAC,CAAC,EAAE9E,OAAO,CAAC+E,WAAW,EAAED,CAAC,CAAC,CAAC3C,MAAM;IACvD6C,KAAK,EAAEP;EACX,CAAC,CAAC;AACN;AACA,SAASQ,kBAAkB,CAACC,IAAI,EAAEjE,IAAI,EAAEuB,MAAM,EAAE;EAC5C,MAAM2C,CAAC,GAAItC,CAAC,IAAML,MAAM,GAAGxC,OAAO,CAACwC,MAAM,CAACa,IAAI,CAAC+B,KAAK,CAACvC,CAAC,CAAC,GAAGA,CAAE;EAC5D,OAAQ,aAAYsC,CAAC,CAAC,IAAIjE,IAAI,EAAE,CAACmE,WAAW,EAAE,CAAE,YAAWF,CAAC,CAACD,IAAI,CAAE,YAAWC,CAAC,CAAC,EAAE,GAAGlE,IAAI,CAAE,IAAG;AAClG;AACA;AACA;AACA;AACA,MAAMqE,SAAS,GAAG,IAAIC,GAAG,EAAE;AAC3B,SAASC,aAAa,CAACC,IAAI;AAC3B;AACAC,WAAW,EAAE/C,cAAc,EAAE;EACzB,IAAIrB,EAAE,EAAEC,EAAE;EACV,IAAI,EAAE,CAACD,EAAE,GAAGmE,IAAI,CAACE,MAAM,MAAM,IAAI,IAAIrE,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACa,MAAM,CAAC,EAAE;IACtE,OAAO,EAAE;EACb;EACA,MAAMK,MAAM,GAAGkD,WAAW,CAAClD,MAAM;EACjC,MAAMoD,EAAE,GAAI/C,CAAC,IAAML,MAAM,GAAGxC,OAAO,CAACwC,MAAM,CAACqD,KAAK,CAAChD,CAAC,CAAC,GAAGA,CAAE;EACxD,MAAMiD,kBAAkB,GAAG,EAAE;EAC7B,IAAIC,oBAAoB,GAAG,CAAC;EAC5B,IAAIC,yBAAyB,GAAG,KAAK;EACrC,MAAMC,UAAU,GAAG,CAACX,SAAS,CAACnB,GAAG,CAACsB,IAAI,CAACS,UAAU,IAAI,EAAE,CAAC;EACxD,KAAK,MAAMC,KAAK,IAAIV,IAAI,CAACE,MAAM,EAAE;IAC7B;IACA;IACA,IAAI,CAACM,UAAU,IAAI,CAACE,KAAK,CAACC,QAAQ,EAAE;MAChC;IACJ;IACA,MAAMC,MAAM,GAAG,CAAC9E,EAAE,GAAGkE,IAAI,CAACY,MAAM,MAAM,IAAI,IAAI9E,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACK,MAAM,CAAE0E,KAAK,IAAK;MAAE,IAAIhF,EAAE;MAAE,OAAO,CAACA,EAAE,GAAG6E,KAAK,CAACxE,KAAK,MAAM,IAAI,IAAIL,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACiF,QAAQ,CAACD,KAAK,CAAC9C,IAAI,CAAC;IAAE,CAAC,CAAC;IAChM,IAAI/B,OAAO,GAAG,CAAC;IACf,IAAIC,qBAAqB;IACzB,IAAI2E,MAAM,EAAE;MACR,KAAK,MAAMC,KAAK,IAAID,MAAM,EAAE;QACxB,IAAIC,KAAK,CAAC9C,IAAI,CAAC1B,QAAQ,CAAC,MAAM,CAAC,EAAE;UAC7B;QACJ;QACAL,OAAO,IAAI6E,KAAK,CAACnG,IAAI;QACrB,IAAI,OAAOmG,KAAK,CAACjF,IAAI,CAACK,qBAAqB,KAAK,QAAQ,EAAE;UACtD,IAAIA,qBAAqB,KAAK5D,SAAS,EAAE;YACrC4D,qBAAqB,GAAG,CAAC;YACzBsE,yBAAyB,GAAG,IAAI;UACpC;UACAtE,qBAAqB,IAAI4E,KAAK,CAACjF,IAAI,CAACK,qBAAqB;QAC7D;MACJ;IACJ;IACAoE,kBAAkB,CAACxB,IAAI,CAAClD,mBAAmB,CAAC;MAAE,GAAG+E,KAAK;MAAE1E,OAAO;MAAEC;IAAsB,CAAC,CAAC,CAAC;EAC9F;EACAqE,oBAAoB,GAAGN,IAAI,CAACE,MAAM,CAACxD,MAAM,GAAG2D,kBAAkB,CAAC3D,MAAM;EACrEmD,SAAS,CAACkB,GAAG,CAACf,IAAI,CAACS,UAAU,IAAI,EAAE,CAAC;EACpC;EACAJ,kBAAkB,CAACW,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;IAC9B,IAAID,CAAC,CAACrE,KAAK,CAAC,CAAC,CAAC,GAAGsE,CAAC,CAACtE,KAAK,CAAC,CAAC,CAAC,EAAE;MACzB,OAAO,CAAC,CAAC;IACb;IACA,IAAIqE,CAAC,CAACrE,KAAK,CAAC,CAAC,CAAC,GAAGsE,CAAC,CAACtE,KAAK,CAAC,CAAC,CAAC,EAAE;MACzB,OAAO,CAAC;IACZ;IACA,OAAO,CAAC;EACZ,CAAC,CAAC;EACF,MAAMuE,UAAU,GAAGtE,uBAAuB,CAACwD,kBAAkB,EAAEtD,MAAM,EAAEuD,oBAAoB,KAAK,CAAC,EAAEC,yBAAyB,EAAErD,cAAc,CAAC;EAC7I;EACA;EACA;EACA,MAAM1B,IAAI,GAAGJ,gBAAgB,CAAC4E,IAAI,CAAC;EACnC,IAAIM,oBAAoB,GAAG,CAAC,EAAE;IAC1B,OAAQ,IAAI,GACRH,EAAE,CAAClG,MAAM,CAACmH,IAAI,CAACC,YAAc;AACzC,QAAQF,UAAW;AACnB;AACA,QAAQb,oBAAqB;AAC7B;AACA,QAAQd,kBAAkB,CAACQ,IAAI,CAACP,IAAI,IAAI,EAAE,EAAEjE,IAAI,EAAEuB,MAAM,CAAE;AAC1D,OAAO,CAAC;EACJ,CAAC,MACI;IACD,OAAQ,IAAI,GACRoD,EAAE,CAAClG,MAAM,CAACmH,IAAI,CAACC,YAAc;AACzC,QAAQF,UAAW;AACnB;AACA,QAAQ3B,kBAAkB,CAACQ,IAAI,CAACP,IAAI,IAAI,EAAE,EAAEjE,IAAI,EAAEuB,MAAM,CAAE;AAC1D,OAAO,CAAC;EACJ;AACJ;AACA,SAAShD,qBAAqB,CAACiG,IAAI,EAAEC,WAAW,EAAE;EAC9C,MAAMlD,MAAM,GAAGkD,WAAW,CAAClD,MAAM;EACjC,MAAMO,CAAC,GAAIF,CAAC,IAAML,MAAM,GAAGxC,OAAO,CAACwC,MAAM,CAACqD,KAAK,CAACkB,IAAI,CAAClE,CAAC,CAAC,GAAGA,CAAE;EAC5D,MAAMM,CAAC,GAAIN,CAAC,IAAML,MAAM,GAAGxC,OAAO,CAACwC,MAAM,CAACqD,KAAK,CAACmB,MAAM,CAACnE,CAAC,CAAC,GAAGA,CAAE;EAC9D,MAAMoE,EAAE,GAAIpE,CAAC,IAAML,MAAM,GAAGxC,OAAO,CAACwC,MAAM,CAACqD,KAAK,CAACzC,YAAY,CAACP,CAAC,CAAC,GAAGA,CAAE;EACrE,MAAMqE,QAAQ,GAAGzB,IAAI,CAACyB,QAAQ,GAAG,CAAC,GAAGzB,IAAI,CAACyB,QAAQ,CAAC,GAAG,EAAE;EACxD,IAAIzB,IAAI,CAAC0B,QAAQ,EAAE;IACfD,QAAQ,CAAC5C,IAAI,CAAC,GAAGmB,IAAI,CAAC0B,QAAQ,CAACpF,GAAG,CAAEgB,CAAC,IAAK;MAAE,IAAIzB,EAAE;MAAE,OAAO,CAACA,EAAE,GAAGyB,CAAC,CAACmE,QAAQ,MAAM,IAAI,IAAI5F,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,EAAE;IAAE,CAAC,CAAC,CAAC8F,MAAM,CAAC,CAACV,CAAC,EAAEC,CAAC,KAAK,CAAC,GAAGD,CAAC,EAAE,GAAGC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;EAC5J;EACA,IAAIU,MAAM,GAAG,EAAE;EACf,KAAK,MAAMC,OAAO,IAAIJ,QAAQ,EAAE;IAC5B,IAAI,OAAOI,OAAO,KAAK,QAAQ,EAAE;MAC7BD,MAAM,IAAIJ,EAAE,CAAE,YAAWK,OAAQ,MAAK,CAAC;IAC3C,CAAC,MACI;MACD,IAAI7D,IAAI,GAAG6D,OAAO,CAAC7D,IAAI,IAAI6D,OAAO,CAACC,UAAU;MAC7C;MACA;MACA;MACA,IAAI9D,IAAI,IAAI,CAACiC,WAAW,CAAC8B,YAAY,EAAE;QACnC,MAAMC,gBAAgB,GAAGhE,IAAI,CAACiE,OAAO,CAAC,WAAW,CAAC;QAClD,IAAID,gBAAgB,KAAK,CAAC,CAAC,EAAE;UACzBhE,IAAI,GAAGA,IAAI,CAACkE,SAAS,CAAC,CAAC,EAAEF,gBAAgB,CAAC;QAC9C;MACJ;MACA,IAAIhE,IAAI,EAAE;QACN4D,MAAM,IAAItE,CAAC,CAACU,IAAI,CAAC;QACjB,IAAI6D,OAAO,CAACM,GAAG,EAAE;UACbP,MAAM,IAAI,GAAG,GAAGJ,EAAE,CAACK,OAAO,CAACM,GAAG,CAAC;QACnC;QACAP,MAAM,IAAI,KAAK;MACnB;MACA,IAAI,CAAC,WAAW,CAACQ,IAAI,CAACP,OAAO,CAACQ,OAAO,CAAC,EAAE;QACpCT,MAAM,IAAIlE,CAAC,CAAC,WAAW,CAAC;MAC5B;MACAkE,MAAM,IAAK,GAAEC,OAAO,CAACQ,OAAQ,MAAK;IACtC;EACJ;EACA,OAAOT,MAAM,GAAG,IAAI,GAAGA,MAAM,GAAGA,MAAM;AAC1C;AACApI,OAAO,CAACO,qBAAqB,GAAGA,qBAAqB;AACrD,SAASD,mBAAmB,CAACkG,IAAI,EAAEC,WAAW,EAAE;EAC5C,IAAIpE,EAAE,EAAEC,EAAE;EACV,MAAMiB,MAAM,GAAGkD,WAAW,CAAClD,MAAM;EACjC,MAAMO,CAAC,GAAIF,CAAC,IAAML,MAAM,GAAGxC,OAAO,CAACwC,MAAM,CAACqD,KAAK,CAACkB,IAAI,CAAClE,CAAC,CAAC,GAAGA,CAAE;EAC5D,MAAMoE,EAAE,GAAIpE,CAAC,IAAML,MAAM,GAAGxC,OAAO,CAACwC,MAAM,CAACqD,KAAK,CAACzC,YAAY,CAACP,CAAC,CAAC,GAAGA,CAAE;EACrE,MAAMI,CAAC,GAAIJ,CAAC,IAAML,MAAM,GAAGxC,OAAO,CAACwC,MAAM,CAACqD,KAAK,CAAC3C,SAAS,CAACL,CAAC,CAAC,GAAGA,CAAE;EACjE,MAAMkF,MAAM,GAAGtC,IAAI,CAACsC,MAAM,GAAG,CAAC,GAAGtC,IAAI,CAACsC,MAAM,CAAC,GAAG,EAAE;EAClD,IAAItC,IAAI,CAAC0B,QAAQ,EAAE;IACfY,MAAM,CAACzD,IAAI,CAAC,GAAGmB,IAAI,CAAC0B,QAAQ,CAACpF,GAAG,CAAEgB,CAAC,IAAK,CAACA,CAAC,KAAK,IAAI,IAAIA,CAAC,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,CAAC,CAACgF,MAAM,KAAK,EAAE,CAAC,CAACX,MAAM,CAAC,CAACV,CAAC,EAAEC,CAAC,KAAK,CAAC,GAAGD,CAAC,EAAE,GAAGC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;EACvI;EACA,IAAIU,MAAM,GAAG,EAAE;EACf,KAAK,MAAMW,KAAK,IAAID,MAAM,EAAE;IACxB,IAAI,OAAOC,KAAK,KAAK,QAAQ,EAAE;MAC3BX,MAAM,IAAIpE,CAAC,CAAE,UAAS+E,KAAM,MAAK,CAAC;IACtC,CAAC,MACI;MACD,IAAIvE,IAAI,GAAGuE,KAAK,CAACvE,IAAI,IAAIuE,KAAK,CAACT,UAAU;MACzC;MACA;MACA;MACA,IAAI9D,IAAI,IAAI,CAACiC,WAAW,CAAC8B,YAAY,EAAE;QACnC,MAAMC,gBAAgB,GAAGhE,IAAI,CAACiE,OAAO,CAAC,WAAW,CAAC;QAClD,IAAID,gBAAgB,KAAK,CAAC,CAAC,EAAE;UACzBhE,IAAI,GAAGA,IAAI,CAACkE,SAAS,CAAC,CAAC,EAAEF,gBAAgB,CAAC;QAC9C;MACJ;MACA,IAAIhE,IAAI,EAAE;QACN4D,MAAM,IAAItE,CAAC,CAACU,IAAI,CAAC;QACjB,IAAIuE,KAAK,CAACJ,GAAG,EAAE;UACXP,MAAM,IAAI,GAAG,GAAGJ,EAAE,CAACe,KAAK,CAACJ,GAAG,CAAC;QACjC;QACAP,MAAM,IAAI,KAAK;MACnB;MACA;MACA;MACA;MACA,MAAMS,OAAO,GAAGpC,WAAW,CAACuC,UAAU,GAChCD,KAAK,CAACF,OAAO,GACb,CAACvG,EAAE,GAAG,CAACD,EAAE,GAAG,wBAAwB,CAAC4G,IAAI,CAACF,KAAK,CAACF,OAAO,CAAC,MAAM,IAAI,IAAIxG,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC,CAAC,CAAC,MAAM,IAAI,IAAIC,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAGyG,KAAK,CAACF,OAAO;MAC1J,IAAI,CAAC,SAAS,CAACD,IAAI,CAACC,OAAO,CAAC,EAAE;QAC1BT,MAAM,IAAIpE,CAAC,CAAC,SAAS,CAAC;MAC1B;MACAoE,MAAM,IAAK,GAAES,OAAQ,MAAK;IAC9B;EACJ;EACA,OAAOT,MAAM,GAAG,IAAI,GAAGA,MAAM,GAAGA,MAAM;AAC1C;AACApI,OAAO,CAACM,mBAAmB,GAAGA,mBAAmB;AACjD,SAASD,cAAc,CAACmG,IAAI,EAAE;EAC1B,IAAInE,EAAE,EAAEC,EAAE;EACV,OAAO,CAAC,EAAE,CAAC,CAACD,EAAE,GAAGmE,IAAI,CAACsC,MAAM,MAAM,IAAI,IAAIzG,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACa,MAAM,MAAM,CAACZ,EAAE,GAAGkE,IAAI,CAAC0B,QAAQ,MAAM,IAAI,IAAI5F,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC4G,IAAI,CAAEpF,CAAC,IAAK;IAAE,IAAIzB,EAAE;IAAE,OAAO,CAACA,EAAE,GAAGyB,CAAC,CAACgF,MAAM,MAAM,IAAI,IAAIzG,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACa,MAAM;EAAE,CAAC,CAAC,CAAC,CAAC;AACpP;AACAlD,OAAO,CAACK,cAAc,GAAGA,cAAc;AACvC,SAASD,gBAAgB,CAACoG,IAAI,EAAE;EAC5B,IAAInE,EAAE,EAAEC,EAAE;EACV,OAAO,CAAC,EAAE,CAAC,CAACD,EAAE,GAAGmE,IAAI,CAACyB,QAAQ,MAAM,IAAI,IAAI5F,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACa,MAAM,MAAM,CAACZ,EAAE,GAAGkE,IAAI,CAAC0B,QAAQ,MAAM,IAAI,IAAI5F,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC4G,IAAI,CAAEpF,CAAC,IAAK;IAAE,IAAIzB,EAAE;IAAE,OAAO,CAACA,EAAE,GAAGyB,CAAC,CAACmE,QAAQ,MAAM,IAAI,IAAI5F,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACa,MAAM;EAAE,CAAC,CAAC,CAAC,CAAC;AACxP;AACAlD,OAAO,CAACI,gBAAgB,GAAGA,gBAAgB;AAC3C,SAASD,4BAA4B,CAACgJ,OAAO,EAAEC,MAAM,EAAE;EACnD,MAAM;IAAEC,OAAO,GAAG,KAAK;IAAEC,OAAO,GAAG,EAAE;IAAEC,MAAM,GAAG;EAAG,CAAC,GAAGJ,OAAO;EAC9D,MAAMK,gBAAgB,GAAG,CACrB,GAAG,CAAC,CAAC,EAAEvI,SAAS,CAACwI,yBAAyB,EAAEF,MAAM,EAAE,QAAQ,CAAC,EAC7D,GAAG,CAAC,CAAC,EAAEtI,SAAS,CAACwI,yBAAyB,EAAEH,OAAO,EAAE,SAAS,CAAC,CAClE;EACD,OAAO,CAAClG,KAAK,EAAEsG,MAAM,KAAK;IACtB,IAAIL,OAAO,EAAE;MACTD,MAAM,CAAChH,IAAI,CAACgB,KAAK,CAACuG,QAAQ,CAACD,MAAM,CAACtG,KAAK,CAAC,CAAC;IAC7C;IACA,MAAMwG,QAAQ,GAAGxG,KAAK,CAACyG,MAAM,CAAC,CAAC,CAAC,EAAE5I,SAAS,CAAC6I,eAAe,EAAE,KAAK,CAAC,CAAC;IACpE,MAAMjI,YAAY,GAAG;MACjB,GAAG+H,QAAQ;MACXlD,MAAM,EAAE,CAAC,CAAC,EAAE1F,cAAc,CAAC+I,yBAAyB,EAAEH,QAAQ,EAAEJ,gBAAgB;IACpF,CAAC;IACDvJ,kBAAkB,CAACmJ,MAAM,EAAEvH,YAAY,EAAE6H,MAAM,CAAC;EACpD,CAAC;AACL;AACA1J,OAAO,CAACG,4BAA4B,GAAGA,4BAA4B;AACnE,SAASD,uBAAuB,CAAC2B,YAAY,EAAEmI,qBAAqB,EAAE;EAClE,IAAI3H,EAAE,EAAEC,EAAE;EACV,MAAM;IAAEoE,MAAM,GAAG,EAAE;IAAEU,MAAM,GAAG;EAAG,CAAC,GAAGvF,YAAY;EACjD,IAAIoI,aAAa,GAAG,CAAC;EACrB,IAAIC,cAAc,GAAG,CAAC;EACtB,IAAIC,kBAAkB,GAAG,CAAC;EAC1B,IAAIC,gBAAgB,GAAG,CAAC;EACxB,IAAIC,kBAAkB,GAAG,CAAC;EAC1B,MAAMC,cAAc,GAAG5D,MAAM,CAACxD,MAAM;EACpC,MAAM8D,UAAU,GAAG,CAACX,SAAS,CAACnB,GAAG,CAACrD,YAAY,CAACoF,UAAU,IAAI,EAAE,CAAC;EAChE,MAAMsD,UAAU,GAAG,IAAIjE,GAAG,EAAE;EAC5B,KAAK,MAAMY,KAAK,IAAIR,MAAM,EAAE;IACxB,IAAI,CAACM,UAAU,IAAIE,KAAK,CAACC,QAAQ,EAAE;MAC/BkD,kBAAkB,EAAE;IACxB;IACA,IAAInD,KAAK,CAAC/D,OAAO,EAAE;MACfgH,kBAAkB,EAAE;IACxB;IACA,KAAK,MAAM3F,IAAI,IAAI,CAACnC,EAAE,GAAG6E,KAAK,CAACxE,KAAK,MAAM,IAAI,IAAIL,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,EAAE,EAAE;MACvEkI,UAAU,CAAChD,GAAG,CAAC/C,IAAI,CAAC;IACxB;EACJ;EACA,KAAK,MAAM6C,KAAK,IAAID,MAAM,EAAE;IACxB,IAAIC,KAAK,CAAC9C,IAAI,CAAC1B,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC0H,UAAU,CAACrF,GAAG,CAACmC,KAAK,CAAC9C,IAAI,CAAC,EAAE;MAC5D;IACJ;IACA,IAAI8C,KAAK,CAAC9C,IAAI,CAAC1B,QAAQ,CAAC,KAAK,CAAC,EAAE;MAC5BoH,aAAa,IAAI5C,KAAK,CAACnG,IAAI;MAC3BkJ,gBAAgB,IAAI,CAAC9H,EAAE,GAAG+E,KAAK,CAACjF,IAAI,CAACgI,gBAAgB,MAAM,IAAI,IAAI9H,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,CAAC;IAC7F,CAAC,MACI,IAAI+E,KAAK,CAAC9C,IAAI,CAAC1B,QAAQ,CAAC,MAAM,CAAC,EAAE;MAClCqH,cAAc,IAAI7C,KAAK,CAACnG,IAAI;IAChC;EACJ;EACA,OAAO;IACHsJ,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE1J,OAAO,CAAC2J,qBAAqB,EAAET,qBAAqB,CAACQ,YAAY,CAAC,CAAClB,OAAO;IAC9FoB,GAAG,EAAEV,qBAAqB,CAACU,GAAG,KAAK,KAAK;IACxCJ,cAAc;IACdK,eAAe,EAAEL,cAAc,GAAGH,kBAAkB;IACpDA,kBAAkB;IAClBE,kBAAkB;IAClBO,YAAY,EAAEhJ,gBAAgB,CAACC,YAAY,CAAC;IAC5CqI,cAAc;IACdD,aAAa;IACbG;EACJ,CAAC;AACL;AACApK,OAAO,CAACE,uBAAuB,GAAGA,uBAAuB;AACzD,SAASD,kBAAkB,CAACmJ,MAAM,EAAE5C,IAAI,EAAEkD,MAAM,EAAEhG,cAAc,EAAE;EAC9D0F,MAAM,CAAChH,IAAI,CAACmE,aAAa,CAACC,IAAI,EAAEkD,MAAM,CAACtG,KAAK,EAAEM,cAAc,CAAC,CAAC;EAC9D,IAAI,OAAOgG,MAAM,CAACtG,KAAK,KAAK,QAAQ,EAAE;IAClC,MAAM,IAAIyH,KAAK,CAAC,sCAAsC,CAAC;EAC3D;EACA,IAAIzK,gBAAgB,CAACoG,IAAI,CAAC,EAAE;IACxB4C,MAAM,CAAC0B,IAAI,CAACvK,qBAAqB,CAACiG,IAAI,EAAEkD,MAAM,CAACtG,KAAK,CAAC,CAAC;EAC1D;EACA,IAAI/C,cAAc,CAACmG,IAAI,CAAC,EAAE;IACtB4C,MAAM,CAACL,KAAK,CAACzI,mBAAmB,CAACkG,IAAI,EAAEkD,MAAM,CAACtG,KAAK,CAAC,CAAC;EACzD;AACJ;AACApD,OAAO,CAACC,kBAAkB,GAAGA,kBAAkB"},"metadata":{},"sourceType":"script","externalDependencies":[]}