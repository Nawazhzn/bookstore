{"ast":null,"code":"const KarmaEventEmitter = require('../events').EventEmitter;\nconst EventEmitter = require('events').EventEmitter;\nconst log = require('../logger').create('launcher');\nconst helper = require('../helper');\nconst BEING_CAPTURED = 'BEING_CAPTURED';\nconst CAPTURED = 'CAPTURED';\nconst BEING_KILLED = 'BEING_KILLED';\nconst FINISHED = 'FINISHED';\nconst RESTARTING = 'RESTARTING';\nconst BEING_FORCE_KILLED = 'BEING_FORCE_KILLED';\n\n/**\n * Base launcher that any custom launcher extends.\n */\nfunction BaseLauncher(id, emitter) {\n  if (this.start) {\n    return;\n  }\n\n  // TODO(vojta): figure out how to do inheritance with DI\n  Object.keys(EventEmitter.prototype).forEach(function (method) {\n    this[method] = EventEmitter.prototype[method];\n  }, this);\n  this.bind = KarmaEventEmitter.prototype.bind.bind(this);\n  this.emitAsync = KarmaEventEmitter.prototype.emitAsync.bind(this);\n  this.id = id;\n  this._state = null;\n  Object.defineProperty(this, 'state', {\n    get: () => {\n      return this._state;\n    },\n    set: toState => {\n      log.debug(`${this._state} -> ${toState}`);\n      this._state = toState;\n    }\n  });\n  this.error = null;\n  let killingPromise;\n  let previousUrl;\n  this.start = function (url) {\n    previousUrl = url;\n    this.error = null;\n    this.state = BEING_CAPTURED;\n    this.emit('start', url + '?id=' + this.id + (helper.isDefined(this.displayName) ? '&displayName=' + encodeURIComponent(this.displayName) : ''));\n  };\n  this.kill = function () {\n    // Already killed, or being killed.\n    if (killingPromise) {\n      return killingPromise;\n    }\n    killingPromise = this.emitAsync('kill').then(() => {\n      this.state = FINISHED;\n    });\n    this.state = BEING_KILLED;\n    return killingPromise;\n  };\n  this.forceKill = function () {\n    this.kill();\n    this.state = BEING_FORCE_KILLED;\n    return killingPromise;\n  };\n  this.restart = function () {\n    if (this.state === BEING_FORCE_KILLED) {\n      return;\n    }\n    if (!killingPromise) {\n      killingPromise = this.emitAsync('kill');\n    }\n    killingPromise.then(() => {\n      if (this.state === BEING_FORCE_KILLED) {\n        this.state = FINISHED;\n      } else {\n        killingPromise = null;\n        log.debug(`Restarting ${this.name}`);\n        this.start(previousUrl);\n      }\n    });\n    this.state = RESTARTING;\n  };\n  this.markCaptured = function () {\n    if (this.state === BEING_CAPTURED) {\n      this.state = CAPTURED;\n    }\n  };\n  this.isCaptured = function () {\n    return this.state === CAPTURED;\n  };\n  this.toString = function () {\n    return this.name;\n  };\n  this._done = function (error) {\n    killingPromise = killingPromise || Promise.resolve();\n    this.error = this.error || error;\n    this.emit('done');\n    if (this.error && this.state !== BEING_FORCE_KILLED && this.state !== RESTARTING) {\n      emitter.emit('browser_process_failure', this);\n    }\n    this.state = FINISHED;\n  };\n  this.STATE_BEING_CAPTURED = BEING_CAPTURED;\n  this.STATE_CAPTURED = CAPTURED;\n  this.STATE_BEING_KILLED = BEING_KILLED;\n  this.STATE_FINISHED = FINISHED;\n  this.STATE_RESTARTING = RESTARTING;\n  this.STATE_BEING_FORCE_KILLED = BEING_FORCE_KILLED;\n}\nBaseLauncher.decoratorFactory = function (id, emitter) {\n  return function (launcher) {\n    BaseLauncher.call(launcher, id, emitter);\n  };\n};\nmodule.exports = BaseLauncher;","map":{"version":3,"names":["KarmaEventEmitter","require","EventEmitter","log","create","helper","BEING_CAPTURED","CAPTURED","BEING_KILLED","FINISHED","RESTARTING","BEING_FORCE_KILLED","BaseLauncher","id","emitter","start","Object","keys","prototype","forEach","method","bind","emitAsync","_state","defineProperty","get","set","toState","debug","error","killingPromise","previousUrl","url","state","emit","isDefined","displayName","encodeURIComponent","kill","then","forceKill","restart","name","markCaptured","isCaptured","toString","_done","Promise","resolve","STATE_BEING_CAPTURED","STATE_CAPTURED","STATE_BEING_KILLED","STATE_FINISHED","STATE_RESTARTING","STATE_BEING_FORCE_KILLED","decoratorFactory","launcher","call","module","exports"],"sources":["C:/Users/Nawaz/Downloads/mean-stack-authentication-authorization-master/mean-stack-authentication-authorization-master/Frontend/node_modules/karma/lib/launchers/base.js"],"sourcesContent":["const KarmaEventEmitter = require('../events').EventEmitter\nconst EventEmitter = require('events').EventEmitter\n\nconst log = require('../logger').create('launcher')\nconst helper = require('../helper')\n\nconst BEING_CAPTURED = 'BEING_CAPTURED'\nconst CAPTURED = 'CAPTURED'\nconst BEING_KILLED = 'BEING_KILLED'\nconst FINISHED = 'FINISHED'\nconst RESTARTING = 'RESTARTING'\nconst BEING_FORCE_KILLED = 'BEING_FORCE_KILLED'\n\n/**\n * Base launcher that any custom launcher extends.\n */\nfunction BaseLauncher (id, emitter) {\n  if (this.start) {\n    return\n  }\n\n  // TODO(vojta): figure out how to do inheritance with DI\n  Object.keys(EventEmitter.prototype).forEach(function (method) {\n    this[method] = EventEmitter.prototype[method]\n  }, this)\n\n  this.bind = KarmaEventEmitter.prototype.bind.bind(this)\n  this.emitAsync = KarmaEventEmitter.prototype.emitAsync.bind(this)\n\n  this.id = id\n  this._state = null\n  Object.defineProperty(this, 'state', {\n    get: () => {\n      return this._state\n    },\n    set: (toState) => {\n      log.debug(`${this._state} -> ${toState}`)\n      this._state = toState\n    }\n  })\n\n  this.error = null\n\n  let killingPromise\n  let previousUrl\n\n  this.start = function (url) {\n    previousUrl = url\n\n    this.error = null\n    this.state = BEING_CAPTURED\n    this.emit('start', url + '?id=' + this.id + (helper.isDefined(this.displayName) ? '&displayName=' + encodeURIComponent(this.displayName) : ''))\n  }\n\n  this.kill = function () {\n    // Already killed, or being killed.\n    if (killingPromise) {\n      return killingPromise\n    }\n\n    killingPromise = this.emitAsync('kill').then(() => {\n      this.state = FINISHED\n    })\n\n    this.state = BEING_KILLED\n\n    return killingPromise\n  }\n\n  this.forceKill = function () {\n    this.kill()\n    this.state = BEING_FORCE_KILLED\n\n    return killingPromise\n  }\n\n  this.restart = function () {\n    if (this.state === BEING_FORCE_KILLED) {\n      return\n    }\n\n    if (!killingPromise) {\n      killingPromise = this.emitAsync('kill')\n    }\n\n    killingPromise.then(() => {\n      if (this.state === BEING_FORCE_KILLED) {\n        this.state = FINISHED\n      } else {\n        killingPromise = null\n        log.debug(`Restarting ${this.name}`)\n        this.start(previousUrl)\n      }\n    })\n\n    this.state = RESTARTING\n  }\n\n  this.markCaptured = function () {\n    if (this.state === BEING_CAPTURED) {\n      this.state = CAPTURED\n    }\n  }\n\n  this.isCaptured = function () {\n    return this.state === CAPTURED\n  }\n\n  this.toString = function () {\n    return this.name\n  }\n\n  this._done = function (error) {\n    killingPromise = killingPromise || Promise.resolve()\n\n    this.error = this.error || error\n    this.emit('done')\n\n    if (this.error && this.state !== BEING_FORCE_KILLED && this.state !== RESTARTING) {\n      emitter.emit('browser_process_failure', this)\n    }\n\n    this.state = FINISHED\n  }\n\n  this.STATE_BEING_CAPTURED = BEING_CAPTURED\n  this.STATE_CAPTURED = CAPTURED\n  this.STATE_BEING_KILLED = BEING_KILLED\n  this.STATE_FINISHED = FINISHED\n  this.STATE_RESTARTING = RESTARTING\n  this.STATE_BEING_FORCE_KILLED = BEING_FORCE_KILLED\n}\n\nBaseLauncher.decoratorFactory = function (id, emitter) {\n  return function (launcher) {\n    BaseLauncher.call(launcher, id, emitter)\n  }\n}\n\nmodule.exports = BaseLauncher\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}