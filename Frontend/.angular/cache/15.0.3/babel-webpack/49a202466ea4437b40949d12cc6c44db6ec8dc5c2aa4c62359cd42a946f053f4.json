{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../_services/auth.service\";\nimport * as i2 from \"../_services/storage.service\";\nimport * as i3 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(authService, storageService) {\n    this.authService = authService;\n    this.storageService = storageService;\n    this.form = {\n      username: null,\n      password: null\n    };\n    this.isLoggedIn = false;\n    this.isLoginFailed = false;\n    this.errorMessage = '';\n    this.roles = [];\n  }\n  ngOnInit() {\n    if (this.storageService.isLoggedIn()) {\n      this.isLoggedIn = true;\n      this.roles = this.storageService.getUser().roles;\n    }\n  }\n  onSubmit() {\n    const {\n      username,\n      password\n    } = this.form;\n    this.authService.login(username, password).subscribe({\n      next: data => {\n        this.storageService.saveUser(data);\n        this.isLoginFailed = false;\n        this.isLoggedIn = true;\n        this.roles = this.storageService.getUser().roles;\n        this.reloadPage();\n      },\n      error: err => {\n        this.errorMessage = err.error.message;\n        this.isLoginFailed = true;\n      }\n    });\n  }\n  reloadPage() {\n    window.location.reload();\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.StorageService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 64,\n  vars: 0,\n  consts: [[1, \"ocean\"], [1, \"wave\"], [\"id\", \"container\", 1, \"container\"], [1, \"form-container\", \"sign-up-container\"], [\"action\", \"#\"], [1, \"social-container\"], [\"href\", \"https://Github.com/YasinDehfuli\", \"target\", \"_blank\", 1, \"social\"], [1, \"fab\", \"fa-github\"], [\"href\", \"https://Codepen.io/YasinDehfuli\", \"target\", \"_blank\", 1, \"social\"], [1, \"fab\", \"fa-codepen\"], [\"href\", \"mailto:Ydehfuli@gmail.com\", \"target\", \"_blank\", 1, \"social\"], [1, \"fab\", \"fa-google\"], [\"type\", \"text\", \"placeholder\", \"Name\"], [\"type\", \"email\", \"placeholder\", \"Email\"], [\"type\", \"password\", \"placeholder\", \"Password\"], [2, \"margin-top\", \"9px\"], [1, \"form-container\", \"sign-in-container\"], [\"href\", \"#\"], [1, \"overlay-container\"], [1, \"overlay\"], [1, \"overlay-panel\", \"overlay-left\"], [\"id\", \"signIn\", 1, \"ghost\", \"mt-5\"], [1, \"overlay-panel\", \"overlay-right\"], [\"id\", \"signUp\", 1, \"ghost\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"body\")(1, \"div\", 0);\n      i0.ɵɵelement(2, \"div\", 1)(3, \"div\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"section\")(5, \"div\", 2)(6, \"div\", 3)(7, \"form\", 4)(8, \"h1\");\n      i0.ɵɵtext(9, \"Sign Up\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 5)(11, \"a\", 6);\n      i0.ɵɵelement(12, \"i\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"a\", 8);\n      i0.ɵɵelement(14, \"i\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"a\", 10);\n      i0.ɵɵelement(16, \"i\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"span\");\n      i0.ɵɵtext(18, \"Or use your Email for registration\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"label\");\n      i0.ɵɵelement(20, \"input\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"label\");\n      i0.ɵɵelement(22, \"input\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"label\");\n      i0.ɵɵelement(24, \"input\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"button\", 15);\n      i0.ɵɵtext(26, \"Sign Up\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(27, \"div\", 16)(28, \"form\", 4)(29, \"h1\");\n      i0.ɵɵtext(30, \"Sign in\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"div\", 5)(32, \"a\", 6);\n      i0.ɵɵelement(33, \"i\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"a\", 8);\n      i0.ɵɵelement(35, \"i\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"a\", 10);\n      i0.ɵɵelement(37, \"i\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(38, \"span\");\n      i0.ɵɵtext(39, \" Or sign in using E-Mail Address\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"label\");\n      i0.ɵɵelement(41, \"input\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"label\");\n      i0.ɵɵelement(43, \"input\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"a\", 17);\n      i0.ɵɵtext(45, \"Forgot your password?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"button\");\n      i0.ɵɵtext(47, \"Sign In\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(48, \"div\", 18)(49, \"div\", 19)(50, \"div\", 20)(51, \"h1\");\n      i0.ɵɵtext(52, \"Log in\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"p\");\n      i0.ɵɵtext(54, \"Sign in here if you already have an account \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"button\", 21);\n      i0.ɵɵtext(56, \"Sign In\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(57, \"div\", 22)(58, \"h1\");\n      i0.ɵɵtext(59, \"Create, Account!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(60, \"p\");\n      i0.ɵɵtext(61, \"Sign up if you still don't have an account ... \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(62, \"button\", 23);\n      i0.ɵɵtext(63, \"Sign Up\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm],\n  styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n \\tvar __webpack_modules__ = ({\\n\\n 49:\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/postcss-loader/dist/cjs.js):\\\\nSyntaxError\\\\n\\\\n(50:5) C:\\\\\\\\Users\\\\\\\\Nawaz\\\\\\\\Downloads\\\\\\\\mean-stack-authentication-authorization-master\\\\\\\\mean-stack-authentication-authorization-master\\\\\\\\frontend\\\\\\\\src\\\\\\\\app\\\\\\\\login\\\\\\\\login.component.css Unknown word\\\\n\\\\n \\\\u001b[90m 48 | \\\\u001b[39m\\\\u001b[36m@media\\\\u001b[39m screen and\\\\u001b[36m \\\\u001b[39m\\\\u001b[36m(min-width: 250px)\\\\u001b[39m \\\\u001b[33m{\\\\u001b[39m\\\\n \\\\u001b[90m 49 | \\\\u001b[39m  \\\\u001b[33m.img-login\\\\u001b[39m\\\\u001b[33m{\\\\u001b[39m\\\\n\\\\u001b[1m\\\\u001b[31m>\\\\u001b[39m\\\\u001b[22m\\\\u001b[90m 50 | \\\\u001b[39m    d\\\\n \\\\u001b[90m    | \\\\u001b[39m    \\\\u001b[1m\\\\u001b[31m^\\\\u001b[39m\\\\u001b[22m\\\\n \\\\u001b[90m 51 | \\\\u001b[39m    \\\\u001b[33m}\\\\u001b[39m\\\\n \\\\u001b[90m 52 | \\\\u001b[39m\\\\u001b[33m}\\\\u001b[39m\\\\n\\\");\\n\\n })\\n\\n \\t});\\n\\n \\t\\n \\t// startup\\n \\t// Load entry module and return exports\\n \\t// This entry module doesn't tell about it's top-level declarations so it can't be inlined\\n \\tvar __webpack_exports__ = {};\\n \\t__webpack_modules__[49]();\\n \\tresource = __webpack_exports__;\\n \\t\\n })()\\n;\\n/*# sourceMappingURL=login.component.css.map*/\"]\n});","map":{"version":3,"mappings":"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","names":["LoginComponent","constructor","authService","storageService","username","password","ngOnInit","isLoggedIn","roles","getUser","onSubmit","form","login","subscribe","next","data","saveUser","isLoginFailed","reloadPage","error","err","errorMessage","message","window","location","reload","selectors","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["C:\\Users\\Nawaz\\Downloads\\mean-stack-authentication-authorization-master\\mean-stack-authentication-authorization-master\\frontend\\src\\app\\login\\login.component.ts","C:\\Users\\Nawaz\\Downloads\\mean-stack-authentication-authorization-master\\mean-stack-authentication-authorization-master\\frontend\\src\\app\\login\\login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../_services/auth.service';\nimport { StorageService } from '../_services/storage.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n  form: any = {\n    username: null,\n    password: null\n  };\n  isLoggedIn = false;\n  isLoginFailed = false;\n  errorMessage = '';\n  roles: string[] = [];\n\n  constructor(private authService: AuthService, private storageService: StorageService) { }\n\n  ngOnInit(): void {\n    if (this.storageService.isLoggedIn()) {\n      this.isLoggedIn = true;\n      this.roles = this.storageService.getUser().roles;\n    }\n  }\n\n  onSubmit(): void {\n    const { username, password } = this.form;\n\n    this.authService.login(username, password).subscribe({\n      next: data => {\n        this.storageService.saveUser(data);\n\n        this.isLoginFailed = false;\n        this.isLoggedIn = true;\n        this.roles = this.storageService.getUser().roles;\n        this.reloadPage();\n      },\n      error: err => {\n        this.errorMessage = err.error.message;\n        this.isLoginFailed = true;\n      }\n    });\n  }\n\n  reloadPage(): void {\n    window.location.reload();\n  }\n}\n","\n<!--\n<body>\n\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col\">\n\n        <img src=\"https://wallpaperaccess.com/full/124383.jpg\" class=\"img-login\">\n\n      </div>\n      <div class=\"col\">\n\n        <div class=\"containermain\">\n\n          <div class=\"col-md-12\">\n            <div class=\"card card-container\">\n              <img\n                id=\"profile-img\"\n                src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\n                class=\"profile-img-card\"\n              />\n              <form\n                *ngIf=\"!isLoggedIn\"\n                name=\"form\"\n                (ngSubmit)=\"f.form.valid && onSubmit()\"\n                #f=\"ngForm\"\n                novalidate\n              >\n                <div class=\"form-group\">\n                  <label for=\"username\">Username</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    name=\"username\"\n                    [(ngModel)]=\"form.username\"\n                    required\n                    #username=\"ngModel\"\n                    [ngClass]=\"{ 'is-invalid': f.submitted && username.errors }\"\n                  />\n                  <div *ngIf=\"username.errors && f.submitted\" class=\"invalid-feedback\">\n                    Username is required!\n                  </div>\n                </div>\n                <div class=\"form-group\">\n                  <label for=\"password\">Password</label>\n                  <input\n                    type=\"password\"\n                    class=\"form-control\"\n                    name=\"password\"\n                    [(ngModel)]=\"form.password\"\n                    required\n                    minlength=\"6\"\n                    #password=\"ngModel\"\n                    [ngClass]=\"{ 'is-invalid': f.submitted && password.errors }\"\n                  />\n                  <div *ngIf=\"password.errors && f.submitted\" class=\"invalid-feedback\">\n                    <div *ngIf=\"password.errors['required']\">Password is required</div>\n                    <div *ngIf=\"password.errors['minlength']\">\n                      Password must be at least 6 characters\n                    </div>\n                  </div>\n                </div>\n                <div class=\"form-group\">\n                  <button class=\"btn btn-primary btn-block\">\n                    Login\n                  </button>\n                </div>\n                <div class=\"form-group\">\n                  <div *ngIf=\"f.submitted && isLoginFailed\" class=\"alert alert-danger\" role=\"alert\">\n                    Login failed: {{ errorMessage }}\n                  </div>\n                </div>\n              </form>\n\n              <div class=\"alert alert-success\" *ngIf=\"isLoggedIn\">\n                Logged in as {{ roles }}.\n              </div>\n            </div>\n          </div>\n          </div>\n      </div>\n\n      <div class=\"w-100\"></div>\n    </div>\n  </div>\n\n</body> -->\n\n<body>\n\n  <!-- Animated Wave Background  -->\n  <div class=\"ocean\">\n      <div class=\"wave\"></div>\n      <div class=\"wave\"></div>\n  </div>\n  <!-- Log In Form Section -->\n  <section>\n      <div class=\"container\" id=\"container\">\n          <div class=\"form-container sign-up-container\">\n              <form action=\"#\">\n                  <h1>Sign Up</h1>\n                  <div class=\"social-container\">\n                      <a href=\"https://Github.com/YasinDehfuli\" target=\"_blank\" class=\"social\"><i class=\"fab fa-github\"></i></a>\n                      <a href=\"https://Codepen.io/YasinDehfuli\" target=\"_blank\" class=\"social\"><i class=\"fab fa-codepen\"></i></a>\n                      <a href=\"mailto:Ydehfuli@gmail.com\" target=\"_blank\" class=\"social\"><i class=\"fab fa-google\"></i></a>\n                  </div>\n                  <span>Or use your Email for registration</span>\n                  <label>\n                      <input type=\"text\" placeholder=\"Name\"/>\n                  </label>\n                  <label>\n                      <input type=\"email\" placeholder=\"Email\"/>\n                  </label>\n                  <label>\n                      <input type=\"password\" placeholder=\"Password\"/>\n                  </label>\n                  <button style=\"margin-top: 9px\">Sign Up</button>\n              </form>\n          </div>\n          <div class=\"form-container sign-in-container\">\n              <form action=\"#\">\n                  <h1>Sign in</h1>\n                  <div class=\"social-container\">\n                      <a href=\"https://Github.com/YasinDehfuli\" target=\"_blank\" class=\"social\"><i class=\"fab fa-github\"></i></a>\n                      <a href=\"https://Codepen.io/YasinDehfuli\" target=\"_blank\" class=\"social\"><i class=\"fab fa-codepen\"></i></a>\n                      <a href=\"mailto:Ydehfuli@gmail.com\" target=\"_blank\" class=\"social\"><i class=\"fab fa-google\"></i></a>\n                  </div>\n                  <span> Or sign in using E-Mail Address</span>\n                  <label>\n                      <input type=\"email\" placeholder=\"Email\"/>\n                  </label>\n                  <label>\n                      <input type=\"password\" placeholder=\"Password\"/>\n                  </label>\n                  <a href=\"#\">Forgot your password?</a>\n                  <button>Sign In</button>\n              </form>\n          </div>\n          <div class=\"overlay-container\">\n              <div class=\"overlay\">\n                  <div class=\"overlay-panel overlay-left\">\n                      <h1>Log in</h1>\n                      <p>Sign in here if you already have an account </p>\n                      <button class=\"ghost mt-5\" id=\"signIn\">Sign In</button>\n                  </div>\n                  <div class=\"overlay-panel overlay-right\">\n                      <h1>Create, Account!</h1>\n                      <p>Sign up if you still don't have an account ... </p>\n                      <button class=\"ghost\" id=\"signUp\">Sign Up</button>\n                  </div>\n              </div>\n          </div>\n      </div>\n  </section>\n  </body>\n\n  <!-- https://Github.com/YasinDehfuli\n     https://Codepen.io/YasinDehfuli\n     -->\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}