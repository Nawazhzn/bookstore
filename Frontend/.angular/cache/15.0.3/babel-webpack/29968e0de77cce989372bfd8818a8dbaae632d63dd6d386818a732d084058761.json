{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../_services/auth.service\";\nimport * as i2 from \"../_services/storage.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction LoginComponent_form_10_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47);\n    i0.ɵɵtext(1, \" Username is required! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_form_10_div_13_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Password is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_form_10_div_13_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Password must be at least 6 characters \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_form_10_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47);\n    i0.ɵɵtemplate(1, LoginComponent_form_10_div_13_div_1_Template, 2, 0, \"div\", 48);\n    i0.ɵɵtemplate(2, LoginComponent_form_10_div_13_div_2_Template, 2, 0, \"div\", 48);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r5 = i0.ɵɵreference(12);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r5.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r5.errors[\"minlength\"]);\n  }\n}\nfunction LoginComponent_form_10_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 49);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Login failed: \", ctx_r7.errorMessage, \" \");\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    \"is-invalid\": a0\n  };\n};\nfunction LoginComponent_form_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 35, 36);\n    i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_form_10_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const _r2 = i0.ɵɵreference(1);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(_r2.form.valid && ctx_r10.onSubmit());\n    });\n    i0.ɵɵelementStart(2, \"div\", 37)(3, \"label\", 38);\n    i0.ɵɵtext(4, \"Username\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"input\", 39, 40);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_form_10_Template_input_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.form.username = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, LoginComponent_form_10_div_7_Template, 2, 0, \"div\", 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 37)(9, \"label\", 42);\n    i0.ɵɵtext(10, \"Password\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"input\", 43, 44);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_form_10_Template_input_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.form.password = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, LoginComponent_form_10_div_13_Template, 3, 2, \"div\", 41);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 37)(15, \"button\", 45);\n    i0.ɵɵtext(16, \" Login \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 37);\n    i0.ɵɵtemplate(18, LoginComponent_form_10_div_18_Template, 2, 1, \"div\", 46);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const _r2 = i0.ɵɵreference(1);\n    const _r3 = i0.ɵɵreference(6);\n    const _r5 = i0.ɵɵreference(12);\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.form.username)(\"ngClass\", i0.ɵɵpureFunction1(7, _c0, _r2.submitted && _r3.errors));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r3.errors && _r2.submitted);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.form.password)(\"ngClass\", i0.ɵɵpureFunction1(9, _c0, _r2.submitted && _r5.errors));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", _r5.errors && _r2.submitted);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", _r2.submitted && ctx_r0.isLoginFailed);\n  }\n}\nfunction LoginComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 50);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Logged in as \", ctx_r1.roles, \". \");\n  }\n}\nexport class LoginComponent {\n  constructor(authService, storageService) {\n    this.authService = authService;\n    this.storageService = storageService;\n    this.form = {\n      username: null,\n      password: null\n    };\n    this.isLoggedIn = false;\n    this.isLoginFailed = false;\n    this.errorMessage = '';\n    this.roles = [];\n  }\n  ngOnInit() {\n    if (this.storageService.isLoggedIn()) {\n      this.isLoggedIn = true;\n      this.roles = this.storageService.getUser().roles;\n    }\n  }\n  onSubmit() {\n    const {\n      username,\n      password\n    } = this.form;\n    this.authService.login(username, password).subscribe({\n      next: data => {\n        this.storageService.saveUser(data);\n        this.isLoginFailed = false;\n        this.isLoggedIn = true;\n        this.roles = this.storageService.getUser().roles;\n        this.reloadPage();\n      },\n      error: err => {\n        this.errorMessage = err.error.message;\n        this.isLoginFailed = true;\n      }\n    });\n  }\n  reloadPage() {\n    window.location.reload();\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.StorageService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 77,\n  vars: 2,\n  consts: [[1, \"container\"], [1, \"row\"], [1, \"col\"], [\"src\", \"https://wallpaperaccess.com/full/124383.jpg\", 1, \"img-login\"], [1, \"containermain\"], [1, \"col-md-12\"], [1, \"card\", \"card-container\"], [\"id\", \"profile-img\", \"src\", \"//ssl.gstatic.com/accounts/ui/avatar_2x.png\", 1, \"profile-img-card\"], [\"name\", \"form\", \"novalidate\", \"\", 3, \"ngSubmit\", 4, \"ngIf\"], [\"class\", \"alert alert-success\", 4, \"ngIf\"], [1, \"w-100\"], [1, \"ocean\"], [1, \"wave\"], [\"id\", \"container\", 1, \"container\"], [1, \"form-container\", \"sign-up-container\"], [\"action\", \"#\"], [1, \"social-container\"], [\"href\", \"https://Github.com/YasinDehfuli\", \"target\", \"_blank\", 1, \"social\"], [1, \"fab\", \"fa-github\"], [\"href\", \"https://Codepen.io/YasinDehfuli\", \"target\", \"_blank\", 1, \"social\"], [1, \"fab\", \"fa-codepen\"], [\"href\", \"mailto:Ydehfuli@gmail.com\", \"target\", \"_blank\", 1, \"social\"], [1, \"fab\", \"fa-google\"], [\"type\", \"text\", \"placeholder\", \"Name\"], [\"type\", \"email\", \"placeholder\", \"Email\"], [\"type\", \"password\", \"placeholder\", \"Password\"], [2, \"margin-top\", \"9px\"], [1, \"form-container\", \"sign-in-container\"], [\"href\", \"#\"], [1, \"overlay-container\"], [1, \"overlay\"], [1, \"overlay-panel\", \"overlay-left\"], [\"id\", \"signIn\", 1, \"ghost\", \"mt-5\"], [1, \"overlay-panel\", \"overlay-right\"], [\"id\", \"signUp\", 1, \"ghost\"], [\"name\", \"form\", \"novalidate\", \"\", 3, \"ngSubmit\"], [\"f\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"username\"], [\"type\", \"text\", \"name\", \"username\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [\"username\", \"ngModel\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], [\"for\", \"password\"], [\"type\", \"password\", \"name\", \"password\", \"required\", \"\", \"minlength\", \"6\", 1, \"form-control\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [\"password\", \"ngModel\"], [1, \"btn\", \"btn-primary\", \"btn-block\"], [\"class\", \"alert alert-danger\", \"role\", \"alert\", 4, \"ngIf\"], [1, \"invalid-feedback\"], [4, \"ngIf\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\"], [1, \"alert\", \"alert-success\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"body\")(1, \"div\", 0)(2, \"div\", 1)(3, \"div\", 2);\n      i0.ɵɵelement(4, \"img\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 2)(6, \"div\", 4)(7, \"div\", 5)(8, \"div\", 6);\n      i0.ɵɵelement(9, \"img\", 7);\n      i0.ɵɵtemplate(10, LoginComponent_form_10_Template, 19, 11, \"form\", 8);\n      i0.ɵɵtemplate(11, LoginComponent_div_11_Template, 2, 1, \"div\", 9);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelement(12, \"div\", 10);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(13, \"body\")(14, \"div\", 11);\n      i0.ɵɵelement(15, \"div\", 12)(16, \"div\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"section\")(18, \"div\", 13)(19, \"div\", 14)(20, \"form\", 15)(21, \"h1\");\n      i0.ɵɵtext(22, \"Sign Up\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"div\", 16)(24, \"a\", 17);\n      i0.ɵɵelement(25, \"i\", 18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"a\", 19);\n      i0.ɵɵelement(27, \"i\", 20);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"a\", 21);\n      i0.ɵɵelement(29, \"i\", 22);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(30, \"span\");\n      i0.ɵɵtext(31, \"Or use your Email for registration\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"label\");\n      i0.ɵɵelement(33, \"input\", 23);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"label\");\n      i0.ɵɵelement(35, \"input\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"label\");\n      i0.ɵɵelement(37, \"input\", 25);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(38, \"button\", 26);\n      i0.ɵɵtext(39, \"Sign Up\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(40, \"div\", 27)(41, \"form\", 15)(42, \"h1\");\n      i0.ɵɵtext(43, \"Sign in\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"div\", 16)(45, \"a\", 17);\n      i0.ɵɵelement(46, \"i\", 18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(47, \"a\", 19);\n      i0.ɵɵelement(48, \"i\", 20);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(49, \"a\", 21);\n      i0.ɵɵelement(50, \"i\", 22);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(51, \"span\");\n      i0.ɵɵtext(52, \" Or sign in using E-Mail Address\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"label\");\n      i0.ɵɵelement(54, \"input\", 24);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(55, \"label\");\n      i0.ɵɵelement(56, \"input\", 25);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(57, \"a\", 28);\n      i0.ɵɵtext(58, \"Forgot your password?\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(59, \"button\");\n      i0.ɵɵtext(60, \"Sign In\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(61, \"div\", 29)(62, \"div\", 30)(63, \"div\", 31)(64, \"h1\");\n      i0.ɵɵtext(65, \"Log in\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(66, \"p\");\n      i0.ɵɵtext(67, \"Sign in here if you already have an account \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(68, \"button\", 32);\n      i0.ɵɵtext(69, \"Sign In\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(70, \"div\", 33)(71, \"h1\");\n      i0.ɵɵtext(72, \"Create, Account!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(73, \"p\");\n      i0.ɵɵtext(74, \"Sign up if you still don't have an account ... \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(75, \"button\", 34);\n      i0.ɵɵtext(76, \"Sign Up\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isLoggedIn);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn);\n    }\n  },\n  dependencies: [i3.NgClass, i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.MinLengthValidator, i4.NgModel, i4.NgForm],\n  styles: [\"label[_ngcontent-%COMP%] {\\n  display: block;\\n  margin-top: 10px;\\n}\\n\\n.card-container.card[_ngcontent-%COMP%] {\\n  max-width: 400px !important;\\n  padding: 40px 40px;\\nborder-radius: 20px;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n  background-color: #ffffff;\\n  padding: 20px 25px 30px;\\n  margin: 0 auto 25px;\\n  margin-top: 50px;\\n  border-radius: 2px;\\n  box-shadow: 0px 2px 2px rgba(0, 0, 0, 0.3);\\n}\\n\\n.profile-img-card[_ngcontent-%COMP%] {\\n  width: 96px;\\n  height: 96px;\\n  margin: 0 auto 10px;\\n  display: block;\\n  border-radius: 50%;\\n}\\n\\n.btn[_ngcontent-%COMP%]{\\n   background-color: #F97068;\\n   border: #ffffff;\\n}\\n\\n.img-login[_ngcontent-%COMP%]{\\ndisplay: flex;\\nwidth: 100%;\\nposition: relative;\\n}\\n\\n\\n@media screen and (min-width: 250px) {\\n  .img-login[_ngcontent-%COMP%]{\\n\\n    }\\n}\\n/*# sourceURL=webpack://./src/app/login/login.component.css */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0E7RUFDRSxjQUFjO0VBQ2QsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsMkJBQTJCO0VBQzNCLGtCQUFrQjtBQUNwQixtQkFBbUI7QUFDbkI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQixnQkFBZ0I7RUFHaEIsa0JBQWtCO0VBR2xCLDBDQUEwQztBQUM1Qzs7QUFFQTtFQUNFLFdBQVc7RUFDWCxZQUFZO0VBQ1osbUJBQW1CO0VBQ25CLGNBQWM7RUFHZCxrQkFBa0I7QUFDcEI7O0FBRUE7R0FDRyx5QkFBeUI7R0FDekIsZUFBZTtBQUNsQjs7QUFFQTtBQUNBLGFBQWE7QUFDYixXQUFXO0FBQ1gsa0JBQWtCO0FBQ2xCOzs7QUFHQTtFQUNFOztJQUVFO0FBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJcbmxhYmVsIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG59XG5cbi5jYXJkLWNvbnRhaW5lci5jYXJkIHtcbiAgbWF4LXdpZHRoOiA0MDBweCAhaW1wb3J0YW50O1xuICBwYWRkaW5nOiA0MHB4IDQwcHg7XG5ib3JkZXItcmFkaXVzOiAyMHB4O1xufVxuXG4uY2FyZCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XG4gIHBhZGRpbmc6IDIwcHggMjVweCAzMHB4O1xuICBtYXJnaW46IDAgYXV0byAyNXB4O1xuICBtYXJnaW4tdG9wOiA1MHB4O1xuICAtbW96LWJvcmRlci1yYWRpdXM6IDJweDtcbiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAycHg7XG4gIGJvcmRlci1yYWRpdXM6IDJweDtcbiAgLW1vei1ib3gtc2hhZG93OiAwcHggMnB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMyk7XG4gIC13ZWJraXQtYm94LXNoYWRvdzogMHB4IDJweCAycHggcmdiYSgwLCAwLCAwLCAwLjMpO1xuICBib3gtc2hhZG93OiAwcHggMnB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMyk7XG59XG5cbi5wcm9maWxlLWltZy1jYXJkIHtcbiAgd2lkdGg6IDk2cHg7XG4gIGhlaWdodDogOTZweDtcbiAgbWFyZ2luOiAwIGF1dG8gMTBweDtcbiAgZGlzcGxheTogYmxvY2s7XG4gIC1tb3otYm9yZGVyLXJhZGl1czogNTAlO1xuICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDUwJTtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xufVxuXG4uYnRue1xuICAgYmFja2dyb3VuZC1jb2xvcjogI0Y5NzA2ODtcbiAgIGJvcmRlcjogI2ZmZmZmZjtcbn1cblxuLmltZy1sb2dpbntcbmRpc3BsYXk6IGZsZXg7XG53aWR0aDogMTAwJTtcbnBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiAyNTBweCkge1xuICAuaW1nLWxvZ2lue1xuXG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ctx_r10","LoginComponent","constructor","authService","storageService","username","password","ngOnInit","isLoggedIn","roles","getUser","onSubmit","form","login","subscribe","next","data","saveUser","isLoginFailed","reloadPage","error","err","errorMessage","message","window","location","reload","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Nawaz\\Downloads\\mean-stack-authentication-authorization-master\\mean-stack-authentication-authorization-master\\frontend\\src\\app\\login\\login.component.html","C:\\Users\\Nawaz\\Downloads\\mean-stack-authentication-authorization-master\\mean-stack-authentication-authorization-master\\frontend\\src\\app\\login\\login.component.ts"],"sourcesContent":["\n\n<body>\n\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col\">\n\n        <img src=\"https://wallpaperaccess.com/full/124383.jpg\" class=\"img-login\">\n\n      </div>\n      <div class=\"col\">\n\n        <div class=\"containermain\">\n\n          <div class=\"col-md-12\">\n            <div class=\"card card-container\">\n              <img\n                id=\"profile-img\"\n                src=\"//ssl.gstatic.com/accounts/ui/avatar_2x.png\"\n                class=\"profile-img-card\"\n              />\n              <form\n                *ngIf=\"!isLoggedIn\"\n                name=\"form\"\n                (ngSubmit)=\"f.form.valid && onSubmit()\"\n                #f=\"ngForm\"\n                novalidate\n              >\n                <div class=\"form-group\">\n                  <label for=\"username\">Username</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    name=\"username\"\n                    [(ngModel)]=\"form.username\"\n                    required\n                    #username=\"ngModel\"\n                    [ngClass]=\"{ 'is-invalid': f.submitted && username.errors }\"\n                  />\n                  <div *ngIf=\"username.errors && f.submitted\" class=\"invalid-feedback\">\n                    Username is required!\n                  </div>\n                </div>\n                <div class=\"form-group\">\n                  <label for=\"password\">Password</label>\n                  <input\n                    type=\"password\"\n                    class=\"form-control\"\n                    name=\"password\"\n                    [(ngModel)]=\"form.password\"\n                    required\n                    minlength=\"6\"\n                    #password=\"ngModel\"\n                    [ngClass]=\"{ 'is-invalid': f.submitted && password.errors }\"\n                  />\n                  <div *ngIf=\"password.errors && f.submitted\" class=\"invalid-feedback\">\n                    <div *ngIf=\"password.errors['required']\">Password is required</div>\n                    <div *ngIf=\"password.errors['minlength']\">\n                      Password must be at least 6 characters\n                    </div>\n                  </div>\n                </div>\n                <div class=\"form-group\">\n                  <button class=\"btn btn-primary btn-block\">\n                    Login\n                  </button>\n                </div>\n                <div class=\"form-group\">\n                  <div *ngIf=\"f.submitted && isLoginFailed\" class=\"alert alert-danger\" role=\"alert\">\n                    Login failed: {{ errorMessage }}\n                  </div>\n                </div>\n              </form>\n\n              <div class=\"alert alert-success\" *ngIf=\"isLoggedIn\">\n                Logged in as {{ roles }}.\n              </div>\n            </div>\n          </div>\n          </div>\n      </div>\n\n      <div class=\"w-100\"></div>\n    </div>\n  </div>\n\n</body>\n\n<body>\n  <!-- Animated Wave Background  -->\n  <div class=\"ocean\">\n      <div class=\"wave\"></div>\n      <div class=\"wave\"></div>\n  </div>\n  <!-- Log In Form Section -->\n  <section>\n      <div class=\"container\" id=\"container\">\n          <div class=\"form-container sign-up-container\">\n              <form action=\"#\">\n                  <h1>Sign Up</h1>\n                  <div class=\"social-container\">\n                      <a href=\"https://Github.com/YasinDehfuli\" target=\"_blank\" class=\"social\"><i class=\"fab fa-github\"></i></a>\n                      <a href=\"https://Codepen.io/YasinDehfuli\" target=\"_blank\" class=\"social\"><i class=\"fab fa-codepen\"></i></a>\n                      <a href=\"mailto:Ydehfuli@gmail.com\" target=\"_blank\" class=\"social\"><i class=\"fab fa-google\"></i></a>\n                  </div>\n                  <span>Or use your Email for registration</span>\n                  <label>\n                      <input type=\"text\" placeholder=\"Name\"/>\n                  </label>\n                  <label>\n                      <input type=\"email\" placeholder=\"Email\"/>\n                  </label>\n                  <label>\n                      <input type=\"password\" placeholder=\"Password\"/>\n                  </label>\n                  <button style=\"margin-top: 9px\">Sign Up</button>\n              </form>\n          </div>\n          <div class=\"form-container sign-in-container\">\n              <form action=\"#\">\n                  <h1>Sign in</h1>\n                  <div class=\"social-container\">\n                      <a href=\"https://Github.com/YasinDehfuli\" target=\"_blank\" class=\"social\"><i class=\"fab fa-github\"></i></a>\n                      <a href=\"https://Codepen.io/YasinDehfuli\" target=\"_blank\" class=\"social\"><i class=\"fab fa-codepen\"></i></a>\n                      <a href=\"mailto:Ydehfuli@gmail.com\" target=\"_blank\" class=\"social\"><i class=\"fab fa-google\"></i></a>\n                  </div>\n                  <span> Or sign in using E-Mail Address</span>\n                  <label>\n                      <input type=\"email\" placeholder=\"Email\"/>\n                  </label>\n                  <label>\n                      <input type=\"password\" placeholder=\"Password\"/>\n                  </label>\n                  <a href=\"#\">Forgot your password?</a>\n                  <button>Sign In</button>\n              </form>\n          </div>\n          <div class=\"overlay-container\">\n              <div class=\"overlay\">\n                  <div class=\"overlay-panel overlay-left\">\n                      <h1>Log in</h1>\n                      <p>Sign in here if you already have an account </p>\n                      <button class=\"ghost mt-5\" id=\"signIn\">Sign In</button>\n                  </div>\n                  <div class=\"overlay-panel overlay-right\">\n                      <h1>Create, Account!</h1>\n                      <p>Sign up if you still don't have an account ... </p>\n                      <button class=\"ghost\" id=\"signUp\">Sign Up</button>\n                  </div>\n              </div>\n          </div>\n      </div>\n  </section>\n  </body>\n\n  <!-- https://Github.com/YasinDehfuli\n     https://Codepen.io/YasinDehfuli\n     -->\n","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../_services/auth.service';\nimport { StorageService } from '../_services/storage.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n  form: any = {\n    username: null,\n    password: null\n  };\n  isLoggedIn = false;\n  isLoginFailed = false;\n  errorMessage = '';\n  roles: string[] = [];\n\n  constructor(private authService: AuthService, private storageService: StorageService) { }\n\n  ngOnInit(): void {\n    if (this.storageService.isLoggedIn()) {\n      this.isLoggedIn = true;\n      this.roles = this.storageService.getUser().roles;\n    }\n  }\n\n  onSubmit(): void {\n    const { username, password } = this.form;\n\n    this.authService.login(username, password).subscribe({\n      next: data => {\n        this.storageService.saveUser(data);\n\n        this.isLoginFailed = false;\n        this.isLoggedIn = true;\n        this.roles = this.storageService.getUser().roles;\n        this.reloadPage();\n      },\n      error: err => {\n        this.errorMessage = err.error.message;\n        this.isLoginFailed = true;\n      }\n    });\n  }\n\n  reloadPage(): void {\n    window.location.reload();\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}