{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, Input } from '@angular/core';\nlet BookDetailsComponent = class BookDetailsComponent {\n  constructor(booksService, route, router) {\n    this.booksService = booksService;\n    this.route = route;\n    this.router = router;\n    this.viewMode = false;\n    this.currentBook = {\n      title: '',\n      description: '',\n      author: '',\n      year: '',\n      publisher: ''\n    };\n    this.message = '';\n  }\n  ngOnInit() {\n    if (!this.viewMode) {\n      this.message = '';\n      this.getBook(this.route.snapshot.params[\"id\"]);\n    }\n  }\n  getBook(id) {\n    this.booksService.get(id).subscribe({\n      next: data => {\n        this.currentBook = data;\n      },\n      error: e => console.error(e)\n    });\n  }\n  updatePublished(status) {\n    const data = {\n      title: this.currentBook.title,\n      description: this.currentBook.description,\n      author: this.currentBook.author,\n      year: this.currentBook.year,\n      publisher: this.currentBook.publisher\n    };\n    this.message = '';\n    this.booksService.update(this.currentBook.id, data).subscribe({\n      next: res => {\n        console.log(res);\n        this.currentBook.id = status;\n        this.message = res.message ? res.message : 'The status was updated successfully!';\n      },\n      error: e => console.error(e)\n    });\n  }\n  updateBook() {\n    this.message = '';\n    this.booksService.update(this.currentBook.id, this.currentBook).subscribe({\n      next: res => {\n        console.log(res);\n        this.message = res.message ? res.message : 'This book was updated successfully!';\n      },\n      error: e => console.error(e)\n    });\n  }\n  deleteBook() {\n    this.booksService.delete(this.currentBook.id).subscribe({\n      next: res => {\n        console.log(res);\n        this.router.navigate(['/books']);\n      },\n      error: e => console.error(e)\n    });\n  }\n};\n__decorate([Input()], BookDetailsComponent.prototype, \"viewMode\", void 0);\n__decorate([Input()], BookDetailsComponent.prototype, \"currentBook\", void 0);\nBookDetailsComponent = __decorate([Component({\n  selector: 'app-book-details',\n  templateUrl: './book-details.component.html',\n  styleUrls: ['./book-details.component.css']\n})], BookDetailsComponent);\nexport { BookDetailsComponent };","map":{"version":3,"mappings":"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","names":["Component","Input","BookDetailsComponent","constructor","booksService","route","router","title","description","author","year","publisher","ngOnInit","viewMode","message","getBook","snapshot","params","id","get","subscribe","next","data","currentBook","error","e","console","updatePublished","status","update","res","log","updateBook","deleteBook","delete","navigate","__decorate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\Nawaz\\Downloads\\mean-stack-authentication-authorization-master\\mean-stack-authentication-authorization-master\\frontend\\src\\app\\components\\book-details\\book-details.component.ts"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { Book } from 'src/app/models/book.model';\nimport { BooksService } from 'src/app/services/books.service';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-book-details',\n  templateUrl: './book-details.component.html',\n  styleUrls: ['./book-details.component.css']\n})\nexport class BookDetailsComponent implements OnInit{\n\n  @Input() viewMode = false;\n\n  @Input() currentBook: Book = {\n\n    title: '',\n    description: '',\n    author:'',\n    year:'',\n    publisher:'',\n\n  };\n\nmessage ='';\n\nconstructor(\n  private booksService: BooksService,\n  private route: ActivatedRoute,\n  private router: Router) { }\n\nngOnInit(): void {\n  if (!this.viewMode) {\n    this.message = '';\n    this.getBook(this.route.snapshot.params[\"id\"]);\n  }\n}\n\ngetBook(id: string): void {\n  this.booksService.get(id)\n    .subscribe({\n      next: (data) => {\n        this.currentBook = data;\n      },\n      error: (e) => console.error(e)\n    });\n}\n\nupdatePublished(status: boolean): void {\n  const data = {\n    title: this.currentBook.title,\n    description: this.currentBook.description,\n    author: this.currentBook.author,\n    year: this.currentBook.year,\n    publisher:this.currentBook.publisher\n  };\n\n\n  this.message = '';\n\n  this.booksService.update(this.currentBook.id, data)\n    .subscribe({\n      next: (res) => {\n        console.log(res);\n        this.currentBook.id = status;\n        this.message = res.message ? res.message : 'The status was updated successfully!';\n      },\n      error: (e) => console.error(e)\n    });\n}\n\nupdateBook(): void {\n  this.message = '';\n\n  this.booksService.update(this.currentBook.id, this.currentBook)\n    .subscribe({\n      next: (res) => {\n        console.log(res);\n        this.message = res.message ? res.message : 'This book was updated successfully!';\n      },\n      error: (e) => console.error(e)\n    });\n}\n\n\ndeleteBook(): void {\n  this.booksService.delete(this.currentBook.id)\n    .subscribe({\n      next: (res) => {\n        console.log(res);\n        this.router.navigate(['/books']);\n      },\n      error: (e) => console.error(e)\n    });\n}\n\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}